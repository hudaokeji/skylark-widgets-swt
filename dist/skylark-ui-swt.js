/**
 * skylark-ui-swt - The skylark widget framework and standard widgets
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-swt/
 * @license MIT
 */
!function(t,s){var i=s.define,n=s.require,a="function"==typeof i&&i.amd,o=!a&&"undefined"!=typeof exports;if(!a&&!i){var r={};i=s.define=function(e,t,s){"function"==typeof s?(r[e]={factory:s,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var s=t.split("/"),i=e.split("/");s.pop();for(var n=0;n<i.length;n++)"."!=i[n]&&(".."==i[n]?s.pop():s.push(i[n]));return s.join("/")}(t,e)}),resolved:!1,exports:null},n(e)):r[e]={factory:null,resolved:!0,exports:s}},n=s.require=function(e){if(!r.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var t=r[e];if(!t.resolved){var i=[];t.deps.forEach(function(e){i.push(n(e))}),t.exports=t.factory.apply(s,i)||null,t.resolved=!0}return t.exports}}if(!i)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,s){t("skylark-ui-swt/swt",["skylark-langx/skylark","skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query"],function(e,t,s,i,n,a,o){var r=e.ui=e.ui||{};sbswt=r.sbswt={};var l={BACKSPACE_KEYCODE:8,COMMA_KEYCODE:188,DELETE_KEYCODE:46,DOWN_ARROW_KEYCODE:40,ENTER_KEYCODE:13,TAB_KEYCODE:9,UP_ARROW_KEYCODE:38},d=function(e){return function(t){return t.keyCode===e}},c=d(l.BACKSPACE_KEYCODE),h=d(l.DELETE_KEYCODE),u=d(l.TAB_KEYCODE),p=d(l.UP_ARROW_KEYCODE),f=d(l.DOWN_ARROW_KEYCODE),m=/&[^\s]*;/;return t.mixin(r,{CONST:l,cleanInput:function(e){for(;m.test(e);)e=o("<i>").html(e).text();return o("<i>").text(e).html()},isBackspaceKey:c,isDeleteKey:h,isShiftHeld:function(e){return!0===e.shiftKey},isTabKey:u,isUpArrow:p,isDownArrow:f}),r}),t("skylark-ui-swt/Widget",["skylark-langx/skylark","skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/datax","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/elmx","skylark-utils-dom/query","skylark-utils-dom/plugins","skylark-utils-collection/Map","./swt"],function(e,t,s,i,n,a,o,r,l,d,c,h){var u=d.Plugin.inherit({klassName:"Widget",_elmx:r,_construct:function(e,s){t.isHtmlNode(e)?s=this._parse(e,s):(s=e,e=null),this.overrided(e,s),e?this._velm=r(this._elm):(this._velm=this._create(),this._elm=this._velm.elm()),Object.defineProperty(this,"state",{value:this.options.state||new c}),this._init()},_parse:function(e,s){var n=i.data(e,"options");if(n){var a=JSON.parse("{"+n+"}");s=t.mixin(a,s)}return s||{}},_create:function(){var e=this.options.template;if(e)return this._elmx(e);throw new Error("The template is not existed in options!")},_init:function(){var e=this;this.widgetClass&&this._velm.addClass(this.widgetClass),this.state.on("changed",function(t,s){e._refresh(s.data)})},_startup:function(){},_refresh:function(e){},mapping:{events:{},attributs:{},properties:{},styles:{}},render:function(){return this._elm},getEnclosing:function(e){return null},getEnclosed:function(){return children=new ArrayList,children},show:function(){this._velm.show()},hide:function(){this._velm.hide()},focus:function(){try{this._velm.focus()}catch(e){}return this},blur:function(){return this._velm.blur(),this},enable:function(){return this.state.set("disabled",!1),this},disable:function(){return this.state.set("disabled",!0),this},aria:function(e,t){const s=this,i=s.getEl(s.ariaTarget);return void 0===t?s._aria[e]:(s._aria[e]=t,s.state.get("rendered")&&i.setAttribute("role"===e?e:"aria-"+e,t),s)},attr:function(e,t){var s=this._velm,i=s.attr(e,t);return i==s?this:i},css:function(e,t){var s=this._velm,i=s.css(e,t);return i==s?this:i},data:function(e,t){var s=this._velm,i=s.data(e,t);return i==s?this:i},prop:function(e,t){var s=this._velm,i=s.prop(e,t);return i==s?this:i},throb:function(e){return a.throb(this._elm,e)},attach:function(e,t){var s=e;t&&"child"!=t?"before"==t?a.before(s,this._elm):"after"==t&&a.after(s,this._elm):a.append(s,this._elm),this._startup()},detach:function(){this._velm.remove()}});return u.inherit=function(e){var t=d.Plugin.inherit.apply(this,arguments);function s(e){t.prototype[e]=function(t){return void 0!==t?(this.state.set(e,t),this):this.state.get(e)}}if(e.state)for(var i in e.state)s(i);return e.pluginName&&d.register(t,e.pluginName),t},u.register=function(e,t){var s=e.prototype,i=t||s.pluginName;function n(t){e.prototype[t]=function(e){return void 0!==e?(this.state.set(t,e),this):this.state.get(t)}}if(s.state)for(var a in s.state)n(a);return i&&d.register(e,i),e},h.Widget=u}),t("skylark-ui-swt/Panel",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","skylark-bootstrap3/collapse","./swt","./Widget"],function(e,t,s,i,n,a,o,r,l){var d=l.inherit({klassName:"Panel",pluginName:"lark.panel",options:{toggler:{selector:'.panel-heading [data-toggle="collapse"]'},body:{selector:".panel-collapse"}},_init:function(){var e=this;this.$toggle=this._velm.find(this.options.toggler.selector),this.$body=this._velm.find(this.options.body.selector),this.$toggle.on("click.lark",function(t){var s=a(this),i=e.$body.collapse("instance");i?i.toggle():e.$body.collapse(s.data())})},expand:function(){this.$body.collapse("show")},collapse:function(){this.$body.collapse("hide")},toogle:function(){this.body.collapse("toogle")},full:function(){},unfull:function(){},toogleFull:function(){},close:function(){var e=this.dom(id);this.minimize(id,!0).promise().then(function(){e.fadeOut()})}});return d}),t("skylark-ui-swt/Accordion",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","skylark-bootstrap3/collapse","./swt","./Widget","./Panel"],function(e,t,s,i,n,a,o,r,l,d){var c=l.inherit({klassName:"Accordion",pluginName:"lark.accordion",options:{panel:{selector:"> .panel",template:null}},_init:function(){var e=[];this._velm.$(this.options.panel.selector).forEach(function(t){var s=new c.Panel(t,{});e.push(s)}),this._panels=e},_post:function(){},_refresh:function(e){},panels:{get:function(){}},addPanel:function(){var e=$template.clone();e.find(".collapse").removeClass("in"),e.find(".accordion-toggle").attr("href","#"+ ++hash).text("Dynamic panel #"+hash),e.find(".panel-collapse").attr("id",hash).addClass("collapse").removeClass("in"),a("#accordion").append(e.fadeIn())},remove:function(){},expand:function(){},expandAll:function(){},collapse:function(){},collapseAll:function(){}});return c.Panel=d.inherit({klassName:"AccordionPanel",_init:function(){this.overrided()},expand:function(){a(this._elm).collapse("show")},collapse:function(){a(this._elm).collapse("hide")},toogle:function(){a(this._elm).collapse("toogle")},remove:function(){this.overided()}}),r.Accordion=c}),t("skylark-ui-swt/Button",["skylark-langx/langx","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i){class n extends i{get klassName(){return"Button"}get pluginName(){return"lark.button"}get options(){return{btnSize:"lg",btnType:"default",leftIcon:null,rightIcon:null,topIcon:null,bottomIcon:null}}get state(){return{text:String}}_parse(s,i){var n=t(s),i=e.mixin({},i);if(i.btnType||(n.hasClass("btn-link")?i.btnType="link":n.hasClass("btn-default")?i.btnType="default":n.hasClass("btn-primary")?i.btnType="primary":n.hasClass("btn-info")?i.btnType="info":n.hasClass("btn-success")?i.btnType="success":n.hasClass("btn-warning")?i.btnType="warning":n.hasClass("btn-danger")&&(i.btnType="danger")),i.btnSize||(n.hasClass("btn-xs")?i.btnSize="xs":n.hasClass("btn-sm")?i.btnSize="sm":n.hasClass("btn-lg")&&(i.btnSize="lg")),i.href||(i.href=n.attr("href"),i.target=n.attr("target")),i.text||(i.text=n.find(".text").text()),!i.leftIcon){var a=n.find(".fa-icon-left");a.length>0&&(a.removeClass("fa-icon-left").removeClass("fa"),i.leftIcon=a.attr("class"),a.addClass("fa-icon-left").addClass("fa"))}if(!i.rightIcon){var o=n.find(".fa-icon-right");o.length>0&&(o.removeClass("fa-icon-right").removeClass("fa"),i.rightIcon=o.attr("class"),o.addClass("fa-icon-right").addClass("fa"))}}_refresh(e){super._refresh(e);var t=this._velm;e.btnType&&t.removeClass("btn-link btn-default btn-primary btn-info btn-success btn-warning btn-danger").addClass("btn-"+e.btnType.value),e.btnSize&&t.removeClass("btn-xs btn-sm btn-lg").addClass("btn-"+e.btnSize.value),e.text&&t.$(".text").text(e.text.value),e.left&&(t.$(".fa-icon-left").remove(),t.prepend('<i style="word-spacing: -1em;" class="fa fa-icon-left fa-'+e.iconleft.value+'">&nbsp;</i>\n')),e.iconright&&(t.$(".fa-icon-right").remove(),e.iconright.value&&t.append('<i style="word-spacing: -1em;" class="fa fa-icon-right fa-'+e.iconright.value+'">&nbsp;</i>\n'))}}return i.register(n),s.Button=n}),t("skylark-ui-swt/Carousel",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/carousel"],function(e,t,s,i,n,a,o,r){var l=r.inherit({klassName:"Carousel",pluginName:"lark.carousel",options:{items:[],indicatorTemplate:"",slideTemplate:"",templates:{container:'<div class="carousel slide" data-ride="carousel">/div',indicators:{container:'<ol class="carousel-indicators"></ol>',item:"<li></li>"},slides:{container:'<div class="carousel-inner">/div',item:'<div class="item carousel-item"><img alt="First slide"  src="{{url}}"></div>'}}},_init:function(){this._bs_carousel=this._velm.carousel(this.options);var e=this;this._velm.on("click.lark","[data-slide],[data-slide-to]",function(t){var s=a(this),i=s.attr("data-slide-to");if(i)e.to(i);else{var n=s.attr("data-slide");"prev"==n?e.prev():e.next()}t.preventDefault()})},to:function(e){return this._bs_carousel.to(e)},pause:function(e){return this._bs_carousel.pause(e),this},cycle:function(e){return this._bs_carousel.cycle(e)},next:function(){return this._bs_carousel.next()},prev:function(){return this._bs_carousel.prev()},add:function(){},createIndicator:function(e){var t,s,i=this.gallery,n=this.indicatorPrototype.cloneNode(!1),o=i.getItemTitle(e),r=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(r&&(t=Gallery.getItemProperty(e,r)),void 0===t&&(s=e.getElementsByTagName&&a(e).find("img")[0])&&(t=s.src),t&&(n.style.backgroundImage='url("'+t+'")')),o&&(n.title=o),n},addIndicator:function(e){if(this.indicatorContainer.length){var t=this.createIndicator(this.list[e]);t.setAttribute("data-slide-to",e),this.indicatorContainer[0].appendChild(t),this.indicators.push(t)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=a(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(e){e||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),this.overrided(e)},addSlide:function(e){this.overrided(e),this.addIndicator(e)},resetSlides:function(){this.overrided(),this.indicatorContainer.empty(),this.indicators=[]}});return o.Carousel=l}),t("skylark-ui-swt/_Toggler",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i,n,a,o,r){var l=o._Toggler=r.inherit({klassName:"_Toggler",toggle:function(){var e=this.isChecked();e?this.uncheck():this.check()},check:function(){return this.state.set("checked",!0),this},uncheck:function(){return this.state.set("checked",!1),this},isChecked:function(){return this.state.get("checked")}});return l}),t("skylark-ui-swt/CheckBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./_Toggler"],function(e,t,s,i,n,a,o,r){var l=r.inherit({klassName:"CheckBox",pluginName:"lark.checkbox",options:{selectors:{chk:"input[type=checkbox]",lbl:"checkbox-label"},template:void 0,checked:void 0,label:void 0,value:void 0},_parse:function(e,t){t=this.overrided(e,t);var s=a(e),i=t.selectors&&t.selectors.chk,n=t.selectors&&t.selectors.lbl;i||(i=this.options.selectors.chk),n||(n=this.options.selectors.lbl);var o=s.find(i);s.find(n);return void 0==t.checked?t.checked=o.prop("checked"):o.prop("checked",t.checked),void 0==t.disabled?t.disabled=o.prop("disabled"):o.prop("disabled",t.disabled),t},_create:function(){},_init:function(){this._elm;this.$lbl=this._velm.$(this.options.selectors.lbl),this.$chk=this._velm.$(this.options.selectors.chk)},_startup:function(){var e=this;this.$chk.on("change",function(t){var s=e.$chk.prop("checked");e.state.set("checked",s)})},_refresh:function(e){this.overrided(changed);var t,s,i,n,a=this;e.checked&&(t=e.checked.value,s=a.$chk,i=a.$label,n=a.$toggleContainer,t?(s.prop("checked",!0),i.addClass("checked"),n.removeClass("hide hidden")):(s.prop("checked",!1),i.removeClass("checked"),n.addClass("hidden"))),e.disabled&&function(e){var t=a.$chk,s=a.$label;e?(t.prop("disabled",!0),s.addClass("disabled")):(t.prop("disabled",!1),s.removeClass("disabled"))}(e.disabled.value)}});return o.CheckBox=l}),t("skylark-ui-swt/ComboBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/dropdown"],function(e,t,s,i,n,a,o,r){var l=r.inherit({klassName:"ComboBox",pluginName:"lark.combobox",widgetClass:"lark-combobox",options:{autoResizeMenu:!0,filterOnKeypress:!1,showOptionsOnKeypress:!1,filter:function(e,t,s){var i=0;s.$dropMenu.find(".empty-indicator").remove(),e.each(function(e){var s=a(this),n=a(this).text().trim();s.removeClass(),n===t?(s.addClass("text-success"),i++):n.substr(0,t.length)===t?(s.addClass("text-info"),i++):s.addClass("hidden")}),0===i&&s.$dropMenu.append('<li class="empty-indicator text-muted"><em>No Matches</em></li>')}},_init:function(){this.$element=a(this._elm),this.$dropMenu=this.$element.find(".dropdown-menu"),this.$input=this.$element.find("input"),this.$button=this.$element.find(".btn"),this.$button.dropdown(),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$element.on("click.lark","a",e.proxy(this.itemclicked,this)),this.$element.on("change.lark","input",e.proxy(this.inputchanged,this)),this.$element.on("shown.bs.dropdown",e.proxy(this.menuShown,this)),this.$input.on("keyup.lark",e.proxy(this.keypress,this)),this.setDefaultSelection();var t=this.$dropMenu.children("li");0===t.length&&this.$button.addClass("disabled"),this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)},_destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element[0].outerHTML},doSelect:function(e){void 0!==e[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=e,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null,this.$input.val(""),this.$dropMenu.find("li").removeClass("selected")},menuShown:function(){this.options.autoResizeMenu&&this.resizeMenu()},resizeMenu:function(){var e=this.$element.outerWidth();this.$dropMenu.outerWidth(e)},selectedItem:function(){var t=this.$selectedItem,s={};if(t){var i=this.$selectedItem.text().trim();s=e.mixin({text:i},this.$selectedItem.data())}else s={text:this.$input.val().trim(),notFound:!0};return s},selectByText:function(e){var t=a([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||a(this).text()||"").trim().toLowerCase()===(e||"").trim().toLowerCase())return t=a(this),!1}),this.doSelect(t)},selectByValue:function(e){var t='li[data-value="'+e+'"]';this.selectBySelector(t)},selectByIndex:function(e){var t="li:eq("+e+")";this.selectBySelector(t)},selectBySelector:function(e){var t=this.$element.find(e);this.doSelect(t)},setDefaultSelection:function(){var e="li[data-selected=true]:first",t=this.$element.find(e);t.length>0&&(this.selectBySelector(e),t.removeData("selected"),t.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled",!0),this.$button.addClass("disabled")},itemclicked:function(e){this.$selectedItem=a(e.target).parent(),this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var t=this.selectedItem();this.$element.trigger("changed.lark",t),e.preventDefault(),this.$element.find(".dropdown-toggle").focus()},keypress:function(e){var t=38===e.which||40===e.which||37===e.which||39===e.which;if(this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus()),13===e.which){e.preventDefault();var s=this.$dropMenu.find("li.selected").text().trim();s.length>0?this.selectByText(s):this.selectByText(this.$input.val()),this.$inputGroupBtn.removeClass("open")}else if(27===e.which)e.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open");else if(this.options.showOptionsOnKeypress&&(40===e.which||38===e.which)){e.preventDefault();var i=this.$dropMenu.find("li.selected");i.length>0&&(i=40===e.which?i.next(":not(.hidden)"):i.prev(":not(.hidden)")),0===i.length&&(i=40===e.which?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(i)}this.options.filterOnKeypress&&!t&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this),this.previousKeyPress=e.which},inputchanged:function(e,t){var s=a(e.target).val();if(t&&t.synthetic)this.selectByText(s);else{this.selectByText(s);var i=this.selectedItem();0===i.text.length&&(i={text:s}),this.$element.trigger("changed.lark",i)}}});return l.prototype.getValue=l.prototype.selectedItem,o.ComboBox=l}),t("skylark-ui-swt/InputBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(t,s,i,n,a,o,r,l){var d=l.inherit({klassName:"InputBox",pluginName:"lark.inputbox",_parse:function(){var e=this._velm;this.options.multiline=e.is("textarea");var t=$chk.prop("checked"),s=$chk.prop("disabled");this.state.set("value",t),this.state.set(s)},_create:function(){var e="input",s={},i=this.options;t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){s[e]=i[e]}),i.multiline&&(e="textarea"),i.subtype&&(s.type=i.subtype),this._elm=this._dom.noder.createElement(e,s)},_init:function(){},_sync:function(){var e=this;this._velm.on("change",function(t){var s=e._velm.prop("value");e.state.set("value",s)})},_refresh:function(t){void 0!==t.value&&this._velm.value()!==e.value&&this._velm.value(t.value),void 0!==t.disabled&&this._velm.disable(t.disabled),this.overrided(changed)}});return r.InputBox=d}),t("skylark-ui-swt/ListGroup",["skylark-langx/langx","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i){var n=i.inherit({klassName:"ListGroup",pluginName:"lark.listgroup",options:{multiSelect:!1,multiTier:!1,toggle:!1,classes:{active:"active"},selectors:{item:".list-group-item"},selected:0},state:{selected:Object},_init:function(){this.overrided();var e=this,s=this._velm,i=this.options.selectors.item;this._$items=s.$(i),s.on("click",i,function(){var t=e._elmx(this);if(!t.hasClass("disabled")){var s=t.data("value");void 0===s&&(s=e._$items.index(this)),e.state.set("selected",s)}return!1}),this.state.set("selected",this.options.selected);var n=s,a=this.options.toggle,o=this;n.query("li.active").has("ul").children("ul").addClass("collapse in"),n.query("li").not(".active").has("ul").children("ul").addClass("collapse"),o.options.doubleTapToGo&&n.query("li.active").has("ul").children("a").addClass("doubleTapToGo"),n.query("li").has("ul").children("a").on("click."+this.pluginName,function(e){if(e.preventDefault(),o.options.doubleTapToGo&&o.doubleTapToGo(t(this))&&"#"!==t(this).attr("href")&&""!==t(this).attr("href"))return e.stopPropagation(),void(document.location=t(this).attr("href"));t(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),a&&t(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")})},_refresh:function(t){this.overrided(t);var s=this;function i(t){return e.isNumber(t)?s._$items.eq(t):s._$items.filter('[data-value="'+t+'"]')}t.selected&&(this.options.multiSelect||(i(t.selected.oldValue).removeClass(s.options.classes.active),function(e){i(e).addClass(s.options.classes.active)}(t.selected.value)))}});return n}),t("skylark-ui-swt/Menu",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i,n,a,o,r){var l,d=null,c=o.Menu=r.inherit({klassName:"Menu",pluginName:"lark.menu",init:function(t,s){s||(s=t,t=null);var n,o=this;this._options=e.mixin({hide_onmouseleave:0,icons:!0},s);var r=!1;(n=this.$el=a(t||"<ul class='vakata-context'></ul>")).on("mouseenter","li",function(e){e.stopImmediatePropagation(),i.contains(this,e.relatedTarget)||(r&&clearTimeout(r),n.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),a(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),o._show_submenu(this))}).on("mouseleave","li",function(e){i.contains(this,e.relatedTarget)||a(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(e){a(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),o._options.hide_onmouseleave&&(r=setTimeout(function(){o.hide()},o._options.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),a(this).blur().parent().hasClass("vakata-context-disabled")||!1===o._execute(a(this).attr("rel"))||o.hide()}).on("keydown","a",function(e){var t=null;switch(e.which){case 13:case 32:e.type="click",e.preventDefault(),a(e.currentTarget).trigger(e);break;case 37:o.$el.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 38:(t=o.$el.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(t=o.$el.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 39:o.$el.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 40:(t=o.$el.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(t=o.$el.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 27:o.hide(),e.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=o.$el.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),this.render()},render:function(){var e=this._options.items;this._parse(e)&&this.$el.html(this.html),this.$el.width("")},_trigger:function(e){a(document).trigger("context_"+e+".sbswt",{reference:this.reference,element:this.$el,position:{x:this.position_x,y:this.position_y}})},_execute:function(t){return!(!(t=this.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:this.reference,element:this.$el}))||!t.action)&&t.action.call(null,{item:t,reference:this.reference,element:this.$el,position:{x:this.position_x,y:this.position_y}})},_parse:function(t,s){var i=this,n=i._options.reference;if(!t)return!1;s||(i.html="",i.items=[]);var a,o="",r=!1;return s&&(o+="<ul>"),e.each(t,function(t,s){if(!s)return!0;i.items.push(s),!r&&s.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(i._options.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),r=!1,o+="<li class='"+(s._class||"")+(!0===s._disabled||e.isFunction(s._disabled)&&s._disabled({item:s,reference:n,element:i.$el})?" vakata-contextmenu-disabled ":"")+"' "+(s.shortcut?" data-shortcut='"+s.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(i.items.length-1)+"' "+(s.title?"title='"+s.title+"'":"")+">",i._options.icons&&(o+="<i ",s.icon&&(-1!==s.icon.indexOf("/")||-1!==s.icon.indexOf(".")?o+=" style='background:url(\""+s.icon+"\") center center no-repeat' ":o+=" class='"+s.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(s.label)?s.label({item:t,reference:n,element:i.$el}):s.label)+(s.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+s.shortcut+'">'+(s.shortcut_label||"")+"</span>":"")+"</a>",s.submenu&&(a=i._parse(s.submenu,!0))&&(o+=a),o+="</li>",s.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(i._options.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",r=!0)}),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),s&&(o+="</ul>"),s||(i.html=o,i._trigger("parse")),o.length>10&&o},_show_submenu:function(e){if((e=a(e)).length&&e.children("ul").length){var t=e.children("ul"),s=e.offset().left,i=s+e.outerWidth(),n=e.offset().top,o=t.width(),r=t.height(),d=a(window).width()+a(window).scrollLeft(),c=a(window).height()+a(window).scrollTop();l?e[i-(o+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[i+o>d&&s>d-i?"addClass":"removeClass"]("vakata-context-right"),n+r+10>c&&t.css("bottom","-1px"),e.hasClass("vakata-context-right")?s<o&&t.css("margin-right",s-o):d-i<o&&t.css("margin-left",d-i-o),t.show()}},show:function(e,t,s){var i,n,o,r,c,h,u,p;switch(!0){case!t&&!e:return!1;case!!t&&!!e:this.reference=e,this.position_x=t.x,this.position_y=t.y;break;case!t&&!!e:this.reference=e,i=e.offset(),this.position_x=i.left+e.outerHeight(),this.position_y=i.top;break;case!!t&&!e:this.position_x=t.x,this.position_y=t.y}e&&!s&&a(e).data("vakata_contextmenu")&&(s=a(e).data("vakata_contextmenu")),this.items.length&&(this.$el.appendTo(document.body),n=this.$el,o=this.position_x,r=this.position_y,c=n.width(),h=n.height(),u=a(window).width()+a(window).scrollLeft(),p=a(window).height()+a(window).scrollTop(),l&&(o-=n.outerWidth()-a(e).outerWidth())<a(window).scrollLeft()+20&&(o=a(window).scrollLeft()+20),o+c+20>u&&(o=u-(c+20)),r+h+20>p&&(r=p-(h+20)),this.$el.css({left:o,top:r}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),this.is_visible=!0,d=this,this._trigger("show"))},hide:function(){this.is_visible&&(this.$el.hide().find("ul").hide().end().find(":focus").blur().end().detach(),this.is_visible=!1,d=null,this._trigger("hide"))}});return a(function(){l="rtl"===a(document.body).css("direction"),a(document).on("mousedown.sbswt.popup",function(e){d&&d.$el[0]!==e.target&&!i.contains(d.$el[0],e.target)&&d.hide()}).on("context_show.sbswt.popup",function(e,t){d.$el.find("li:has(ul)").children("a").addClass("vakata-context-parent"),l&&d.$el.addClass("vakata-context-rtl").css("direction","rtl"),d.$el.find("ul").hide().end()})}),c.popup=function(e,t,s){var i=new c({reference:e,items:s});i.show(e,t)},c.hide=function(){d&&d.hide()},c}),t("skylark-ui-swt/Pagination",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i,n,a,o,r){"use strict";var l=o.Pagination=r.inherit({klassName:"Pagination",pluginName:"lark.pagination",options:{tagName:"ul",css:"",selectors:{firstNavi:"li[aria-label='first']",prevNavi:"li[aria-label='prev']",nextNavi:"li[aria-label='next']",lastNavi:"li[aria-label='last']",numericNavi:"li:not([aria-label])",numericTxt:"a"},totalPages:7,maxButtonsVisible:5,currentPage:1},state:{totalPages:Number,currentPage:Number},_parse:function(e,t){},_create:function(e){},_init:function(){this.$first=this._velm.$(this.options.selectors.firstNavi),this.$prev=this._velm.$(this.options.selectors.prevNavi),this.$last=this._velm.$(this.options.selectors.lastNavi),this.$next=this._velm.$(this.options.selectors.nextNavi),this.$numeric=this._velm.$(this.options.selectors.numericNavi);var e=this;function t(e){var t=a(e);return!t.is(".disabled,.active")&&t}this.$first.click(function(){t(this)&&e.currentPage(1)}),this.$prev.click(function(){t(this)&&e.currentPage(e.currentPage()-1)}),this.$last.click(function(){t(this)&&e.currentPage(e.totalPages())}),this.$next.click(function(){t(this)&&e.currentPage(e.currentPage()+1)}),this.$numeric.click(function(){var s=t(this);if(s){var i=s.find(e.options.selectors.numericTxt).text(),n=parseInt(i);e.currentPage(n)}}),this.state.set("currentPage",this.options.currentPage),this.state.set("totalPages",this.options.totalPages),this.overrided()},_refresh:function(e){this.overrided(e);var t=this;if(e.currentPage||e.totalPages){var s=t.currentPage(),i=t.totalPages();!function(e,s){var i=Math.min(s,t.options.maxButtonsVisible),n=1,a=n+i-1;for(;e<n||e>a;)e>a?(n+=i,(a+=i)>s&&(n-=a-s,a=s)):(a-=i,(n-=i)<0&&(a+=n+i,n=1));e===a&&1!=s&&(a=(n=e-1)+i-1)>=s&&(n-=a-s,a=s);n===e&&1!=s&&1!=e&&(n=(a=e+1)-(i-1));var o=t.$numeric.size(),r=a-n+1,l=0;t.$numeric.filter(".active").removeClass("active");for(;l<r;){var d=l+n,c=t.$numeric.eq(l);c.find(t.options.selectors.numericTxt).text(l+n).show(),d==e&&c.addClass("active"),l++}for(;l<o;)t.$numeric.eq(l).find(t.options.selectors.numericTxt).text(l+n).hide(),l++}(s,i),function(e,s){if(e<1)throw"Page can't be less than 1";if(e>s)throw"Page is bigger than total pages";if(s<1)throw"Total Pages can't be less than 1";1==e?(t.$first.addClass("disabled"),t.$prev.addClass("disabled")):(t.$first.removeClass("disabled"),t.$prev.removeClass("disabled"));e==s?(t.$last.addClass("disabled"),t.$next.addClass("disabled")):(t.$last.removeClass("disabled"),t.$next.removeClass("disabled"))}(s,i)}}});return l}),t("skylark-ui-swt/Progress",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i,n,a,o,r){"use strict";var l=o.Progress=r.inherit({klassName:"Progress",pluginName:"lark.progress",options:{selectors:{bar:"progress-bar"},min:0,max:100},state:{value:Number},_init:function(){this._vbar=this._velm.find(this.options.selectors.bar),this.value(this.options.min)},_refresh:function(){this.overrided(changed);if(void 0!==updates.value){var e=updates.value,t=this.options.min,s=this.options.max;this._vbar.css("width",(e-t)/(s-t)*100+"%")}},start:function(e){this.value(this.options.min),this._velm.slideDown()},increase:function(e){var t=this.value();this.value(t+=1*e)},finish:function(){this.value(this.options.min),this._velm.slideUp()}});return l}),t("skylark-ui-swt/Radio",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./_Toggler"],function(e,t,s,i,n,a,o,r){var l=o.Radio=r.inherit({klassName:"Radio",pluginName:"lark.radio",_parse:function(){var e=this.$radio,t=e.prop("checked"),s=e.prop("disabled");this.state.set("checked",t),this.state.set(s)},_init:function(){var e=this.domNode,t=a(e);if("label"===e.tagName.toLowerCase()){this.$label=t,this.$radio=this.$label.find('input[type="checkbox"]'),this.$container=t.parent(".checkbox"),!this.options.ignoreVisibilityCheck&&this.$radio.css("visibility").match(/hidden|collapse/)&&logError("For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.");var s=this.$radio.attr("data-toggle");this.$toggleContainer=a(s),this.setInitialState()}else logError("Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`")},_sync:function(){var e=this;this.$radio.on("change",function(t){var s=e.$radio.prop("checked");e.state.set("checked",s)})},_refresh:function(e){this.overrided(changed);var t,s,i,n=this;e.checked&&function(e){var t=n.$radio,s=n.$label,i=n.$toggleContainer;e?(this.resetGroup(),t.prop("checked",!0),s.addClass("checked"),i.removeClass("hide hidden")):(t.prop("checked",!1),s.removeClass("checked"),i.addClass("hidden"))}(e.checked.value),e.disabled&&(t=e.disabled.value,s=n.$radio,i=n.$label,t?(s.prop("disabled",!0),i.addClass("disabled")):(s.prop("disabled",!1),i.removeClass("disabled")))},resetGroup:function(){var e=a('input[name="'+this.groupName+'"]');e.each(function(e,t){var s=a(t),i=s.parent(),n=s.attr("data-toggle"),o=a(n);i.removeClass("checked"),o.addClass("hidden")})}});return l}),t("skylark-ui-swt/SearchBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/dropdown"],function(e,t,s,i,n,a,o,r){var l=r.inherit({klassName:"SearchBox",pluginName:"lark.searchbox",options:{clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1},_init:function(){this.$element=a(this._elm),this.$repeater=this.$element.closest(".repeater"),"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0),this.$button=this.$element.find("button"),this.$input=this.$element.find("input"),this.$icon=this.$element.find(".glyphicon, .fuelux-icon"),this.$button.on("click.fu.search",e.proxy(this.buttonclicked,this)),this.$input.on("keyup.fu.search",e.proxy(this.keypress,this)),this.$repeater.length>0&&this.$repeater.on("rendered.fu.repeater",e.proxy(this.clearPending,this)),this.activeSearch=""},destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element[0].outerHTML},search:function(e){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove"),this.activeSearch=e,this.$element.addClass("searched pending"),this.$element.trigger("searched.fu.search",e)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search"),this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search"),this.activeSearch="",this.$input.val(""),this.$element.trigger("cleared.fu.search"),this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},action:function(){var e=this.$input.val();e&&e.length>0?this.search(e):this.clear()},buttonclicked:function(e){e.preventDefault(),a(e.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(e){13===e.which?(e.preventDefault(),this.action()):9===e.which?e.preventDefault():27===e.which?(e.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled","disabled"),this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")}});return o.SearchBox=l}),t("skylark-ui-swt/SelectList",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/dropdown"],function(e,t,s,i,n,a,o,r){var l=r.inherit({klassName:"SelectList",pluginName:"lark.selectlist",options:{emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'},_init:function(){this.$element=a(this._elm),this.$button=this.$element.find(".btn.dropdown-toggle"),this.$hiddenField=this.$element.find(".hidden-field"),this.$label=this.$element.find(".selected-label"),this.$dropdownMenu=this.$element.find(".dropdown-menu"),this.$button.dropdown(),this.$element.on("click.fu.selectlist",".dropdown-menu a",e.proxy(this.itemClicked,this)),this.setDefaultSelection(),"auto"!==this.options.resize&&"auto"!==this.$element.attr("data-resize")||this.resize();var t=this.$dropdownMenu.children("li");0===t.length&&(this.disable(),this.doSelect(a(this.options.emptyLabelHTML))),this.$element.on("shown.bs.dropdown",function(){var e=a(this);a(document).on("keypress.fu.selectlist",function(t){var s=String.fromCharCode(t.which);e.find("li").each(function(e,t){if(a(t).text().charAt(0).toLowerCase()===s)return a(t).children("a").focus(),!1})})}),this.$element.on("hide.bs.dropdown",function(){a(document).off("keypress.fu.selectlist")})},destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},doSelect:function(e){var t;this.$selectedItem=t=e,this.$hiddenField.val(this.$selectedItem.attr("data-value")),this.$label.html(a(this.$selectedItem.children()[0]).html()),this.$element.find("li").each(function(){t.is(a(this))?a(this).attr("data-selected",!0):a(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(e){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem),e.preventDefault(),a(e.currentTarget).parent("li").is(".disabled, :disabled")||(a(e.target).parent().is(this.$selectedItem)||this.itemChanged(e),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(e){this.doSelect(a(e.target).closest("li"));var t=this.selectedItem();this.$element.trigger("changed.fu.selectlist",t)},resize:function(){var e=0,t=0,s=a("<div/>").addClass("selectlist-sizer");Boolean(a(document).find("html").hasClass("fuelux"))?a(document.body).append(s):a(".fuelux:first").append(s),s.append(this.$element.clone()),this.$element.find("a").each(function(){s.find(".selected-label").text(a(this).text()),t=s.find(".selectlist").outerWidth(),(t+=s.find(".sr-only").outerWidth())>e&&(e=t)}),e<=1||(this.$button.css("width",e),this.$dropdownMenu.css("width",e),s.remove())},selectedItem:function(){var t=this.$selectedItem.text();return e.mixin({text:t},this.$selectedItem.data())},selectByText:function(e){var t=a([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||a(this).text()||"").toLowerCase()===(e||"").toLowerCase())return t=a(this),!1}),this.doSelect(t)},selectByValue:function(e){var t='li[data-value="'+e+'"]';this.selectBySelector(t)},selectByIndex:function(e){var t="li:eq("+e+")";this.selectBySelector(t)},selectBySelector:function(e){var t=this.$element.find(e);this.doSelect(t)},setDefaultSelection:function(){var e=this.$element.find("li[data-selected=true]").eq(0);0===e.length&&(e=this.$element.find("li").has("a").eq(0)),this.doSelect(e)},enable:function(){this.$element.removeClass("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$button.addClass("disabled")}});return l.prototype.getValue=l.prototype.selectedItem,o.SelectList=l}),t("skylark-ui-swt/TabStrip",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/tab","skylark-bootstrap3/dropdown"],function(e,t,s,i,n,a,o,r){var l=r.inherit({klassName:"TabStrip",pluginName:"lark.tabstrip",options:{selectors:{header:".nav-tabs",tab:'[data-toggle="tab"]',content:".tab-content",tabpane:".tab-pane"}},_init:function(){this.$header=this._velm.$(this.options.selectors.header),this.$tabs=this.$header.find(this.options.selectors.tab),this.$content=this._velm.$(this.options.selectors.content),this.$tabpanes=this.$content.find(this.options.selectors.tabpane),this.$header.find('[data-toggle="dropdown"]').dropdown();var e=this;this.$tabs.each(function(t,s){a(s).tab({target:e.$tabpanes[t]})})},add:function(){},remove:function(){}});return l}),t("skylark-ui-swt/Toolbar",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,s,i,n,a,o,r){var l=o.Toolbar=r.inherit({klassName:"Toolbar",pluginName:"lark.toolbar",init:function(t,s){this._options=e.mixin({autoredraw:!0,buttons:{},context:{},list:[],show:!0},s),this.$container=a('<nav class="navbar"/>'),this.$el=a(t).append(this.$container),this.$container.on("mousedown.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(e){a(this).dropdown()}),this.render()},render:function(){function t(s,i){e.each(s,function(s,n){var o=n.type;switch(o||(o="button"),o){case"buttongroup":!function(e,s){var i=a("<div/>",{class:"btn-group",role:"group"});s.append(i),t(e.items,i)}(n,i);break;case"button":!function(t,s){var i=a('<button type="button" class="btn btn-default"/>'),n=e.mixin({},t);"icon"in t&&(i.append(a("<span/>",{class:t.icon})),delete n.icon);"text"in n&&(i.append(" "+t.text),delete n.text);i.attr(n),s.append(i)}(n,i);break;case"dropdown":case"dropup":!function(t,s){var i=a('<div class="btn-group" role="group"/>'),n=a('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"/>'),o=a('<ul class="dropdown-menu"/>'),r=e.mixin({},t);"dropup"===t.type&&i.addClass("dropup");"icon"in t&&(n.append(a("<span/>",{class:t.icon})),delete r.icon);"text"in t&&(n.append(" "+t.text),delete r.text);for(var l in n.append(' <span class="caret"/>'),t.list){var d=t.list[l],c=a("<li/>");"icon"in d&&c.append(a("<span/>",{class:d.icon})),"text"in d&&c.append(" "+d.text),c.attr(d),o.append(c)}i.attr(r),i.append(n),i.append(o),s.append(i)}(n,i);break;case"input":!function(t,s){var i=a('<div class="input-group"/>'),n=a('<input class="form-control"/>'),o=e.mixin({},t);if("prefix"in t){var r=a('<span class="input-group-addon"/>');r.html(t.prefix),i.append(r),delete o.prefix}if(i.append(n),"sufix"in t){var l=a('<span class="input-group-addon"/>');l.html(t.sufix),i.append(l),delete o.sufix}o.type=o.inputType,delete o.inputType,n.attr(o),s.append(i)}(n,i);break;default:throw"Wrong widget button type"}})}var s=this._options.items;s&&t(s,this.$container)}});return a.fn.toolbar=function(t){return t=t||{},this.each(function(){return new l(this,e.mixin({},t,!0))})},l}),t("skylark-ui-swt/Uploader",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","skylark-utils-collection/ArrayList","skylark-utils-filer/uploader","./swt","./Widget"],function(e,t,s,i,n,a,o,r,l,d){var c=e.Stateful.inherit({state:"pending",start:function(){this.isPending()&&(this.get("processor").submit(),this.state="running",this.trigger("filestarted",this))},cancel:function(){this.get("processor").abort(),this.destroy(),this.state="canceled",this.trigger("filecanceled",this)},progress:function(e){this.trigger("fileprogress",this.get("processor").progress())},fail:function(e){this.state="error",this.trigger("filefailed",e)},done:function(e){this.state="error",this.trigger("filedone",e)},isPending:function(){return"pending"==this.getState()},isRunning:function(){return"running"==this.getState()},isDone:function(){return"done"==this.getState()},isError:function(){return"error"==this.getState()||"canceled"==this.getState},getState:function(){return this.state}}),h=o.inherit({item:c}),u=d.inherit({className:"upload-manager-file row",options:{selectors:{fileName:".name",fileSize:".size",cancel:".cancel",clear:".clear",progress:".progress",message:".message"}},state:{fileName:String,fileSize:Number},_init:function(){this.processUploadMsg=this.options.processUploadMsg,this.doneMsg=this.options.doneMsg,this.fileName(this.options.fileName),this.fileSize(this.options.fileSize),this.model.on("destroy",this.close,this),this.model.on("fileprogress",this.updateProgress,this),this.model.on("filefailed",this.hasFailed,this),this.model.on("filedone",this.hasDone,this),this.model.on("all",this.update,this),this.bindEvents(),this.update()},_refresh:function(e){},updateProgress:function(e){var t=parseInt(e.loaded/e.total*100,10),s=this.getHelpers().displaySize(e.loaded)+" of "+this.getHelpers().displaySize(e.total);t>=100&&this.processUploadMsg&&(s=this.processUploadMsg),a(".progress",this.el).find(".bar").css("width",t+"%").parent().find(".progress-label").html(s)},hasFailed:function(e){a(".message",this.el).html('<i class="icon-error"></i> '+e)},hasDone:function(e){a(".message",this.el).html('<i class="icon-success"></i> '+(this.doneMsg||"Uploaded"))},update:function(){var e=this.options.selectors,t=this._velm.$(e.size+","+e.cancel),s=this._velm.$(e.progress+","+e.cancel),i=this._velm.$(e.message+","+e.clear);this.model.isPending()?(s.add(i).addClass("hidden"),t.removeClass("hidden")):this.model.isRunning()?(t.add(i).addClass("hidden"),s.removeClass("hidden")):(this.model.isDone()||this.model.isError())&&(t.add(s).addClass("hidden"),i.removeClass("hidden"))},_startup:function(){var e=this;this._velm.$(this.options.selectors.cancel).click(function(){e.model.cancel(),e.collection.remove(e.model)}),this._velm.$(this.options.selectors.clear).click(function(){e.model.destroy(),e.collection.remove(e.model)})},computeData:function(){return a.extend(this.getHelpers(),this.model.get("data"))}}),p=d.inherit({klassName:"Uploader",pluginName:"lark.uploader",options:{uploadUrl:"/upload",autoUpload:!1,selectors:{fileList:".file-list",nodata:".file-list .no-data",pickFiles:".file-picker",startUploads:".start-uploads",cancelUploads:".cancel-uploads"},dataType:"json",fileItem:{selectors:{},template:null}},state:{files:h},_init:function(){var t=this,s=(this.files(new h),this._velm.$(this.options.selectors.pickFiles)),t=this;this.uploadProcess=r(this._elm,{dataType:this.options.dataType,url:this.options.uploadUrl,formData:this.options.formData,autoUpload:this.options.autoUpload,singleFileUploads:!0,picker:s,add:function(s,i){i.uploadManagerFiles=[],e.each(i.files,function(e,s){s.id=t.file_id++;var n=new c({data:s,processor:i});i.uploadManagerFiles.push(n),t.files.add(n),t.renderFile(n)})},progress:function(t,s){e.each(s.uploadManagerFiles,function(e,t){t.progress(progress)})},fail:function(t,s){e.each(s.uploadManagerFiles,function(e,t){var i="Unknown error";"string"==typeof s.errorThrown?i=s.errorThrown:"object"==typeof s.errorThrown?i=s.errorThrown.message:s.result&&(i=s.result.error?s.result.error:s.result.files&&s.result.files[e]&&s.result.files[e].error?s.result.files[e].error:"Unknown remote error"),t.fail(i)})},done:function(t,s){e.each(s.uploadManagerFiles,function(e,t){t.done(s.result)})}}),this.bindProcessEvents(),this._velm.$(this.options.selectors.cancelUploads).click(function(){for(;t.files.length;)t.files.at(0).cancel()}),this._velm.$(this.options.selectors.startUploads).click(function(){t.files.forEach(function(e){e.start()})}),this._refresh({files:!0})},_refresh:function(e){var t,s,i,n,a=this;e.files&&(t=a.options.selectors,s=a.files(),i=a._velm.$(t.cancelUploads+","+t.startUploads),n=a._velm.$(t.nodata),s.length>0?(i.removeClass("hidden"),n.addClass("hidden")):(i.addClass("hidden"),n.removeClass("hidden")))},renderFile:function(t){var s=new u(e.mixin({},this.options,{model:t,template:this.options.fileItem.template}));s.attach(this._velm.$(this.options.selectors.fileList))},bindProcessEvents:function(){}});return l.Uploader=p}),t("skylark-ui-swt/main",["./swt","./Widget","./Accordion","./Button","./Carousel","./CheckBox","./ComboBox","./InputBox","./ListGroup","./Menu","./Pagination","./Progress","./Radio","./SearchBox","./SelectList","./TabStrip","./Toolbar","./Uploader"],function(e){return e}),t("skylark-ui-swt",["skylark-ui-swt/main"],function(e){return e})}(i),!a){var l=n("skylark-langx/skylark");o?module.exports=l:s.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-ui-swt.js.map

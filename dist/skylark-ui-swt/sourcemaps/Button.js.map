{"version":3,"sources":["Button.js"],"names":["define","langx","$","ui","Widget","Button","inherit","klassName","pluginName","options","btnSize","btnType","leftIcon","rightIcon","topIcon","bottomIcon","state","text","String","_parse","elm","$el","mixin","hasClass","href","attr","target","find","$fa_icon_left","length","removeClass","addClass","$fa_icon_right","_refresh","updates","this","overrided","velm","_velm","value","left","remove","prepend","iconleft","iconright","append"],"mappings":";;;;;;;AAAAA,QACE,sBACA,0BACA,OACA,YACA,SAASC,EAAMC,EAAEC,EAAGC,GAErB,GAAIC,GAASD,EAAOE,SACnBC,UAAY,SAEVC,WAAa,cAEfC,SACCC,QAAU,KACPC,QAAU,UACVC,SAAW,KACXC,UAAY,KACZC,QAAU,KACVC,WAAa,MAGfC,OACEC,KAASC,QAGXC,OAAQ,SAAUC,EAAIX,GACpB,GAAIY,GAAMnB,EAAEkB,GACRX,EAAUR,EAAMqB,SAASb,EAwC7B,IAtCKA,EAAQE,UACPU,EAAIE,SAAS,YACfd,EAAQE,QAAU,OACTU,EAAIE,SAAS,eACtBd,EAAQE,QAAU,UACTU,EAAIE,SAAS,eACtBd,EAAQE,QAAU,UACTU,EAAIE,SAAS,YACtBd,EAAQE,QAAU,OACTU,EAAIE,SAAS,eACtBd,EAAQE,QAAU,UACTU,EAAIE,SAAS,eACtBd,EAAQE,QAAU,UACTU,EAAIE,SAAS,gBACtBd,EAAQE,QAAU,WAIjBF,EAAQC,UACPW,EAAIE,SAAS,UACfd,EAAQC,QAAU,KACTW,EAAIE,SAAS,UACtBd,EAAQC,QAAU,KACTW,EAAIE,SAAS,YACtBd,EAAQC,QAAU,OAIjBD,EAAQe,OACXf,EAAQe,KAAOH,EAAII,KAAK,QAExBhB,EAAQiB,OAASL,EAAII,KAAK,WAGvBhB,EAAQQ,OACXR,EAAQQ,KAAOI,EAAIM,KAAK,SAASV,SAG9BR,EAAQG,SAAU,CACrB,GAAIgB,GAAgBP,EAAIM,KAAK,gBACzBC,GAAcC,OAAS,IACzBD,EAAcE,YAAY,gBAAgBA,YAAY,MACtDrB,EAAQG,SAAWgB,EAAcH,KAAK,SACtCG,EAAcG,SAAS,gBAAgBA,SAAS,OAIpD,IAAKtB,EAAQI,UAAW,CACtB,GAAImB,GAAiBX,EAAIM,KAAK,iBAE1BK,GAAeH,OAAS,IAC1BG,EAAeF,YAAY,iBAAiBA,YAAY,MACxDrB,EAAQI,UAAYmB,EAAeP,KAAK,SACxCO,EAAeD,SAAS,iBAAiBA,SAAS,SAKxDE,SAAU,SAAUC,GAClBC,KAAKC,UAAUF,EAEf,IAAIG,GAAOF,KAAKG,KAEZJ,GAAQvB,SACR0B,EAAKP,YAAY,gFAAgFC,SAAS,OAASG,EAAQvB,QAAQ4B,OAGnIL,EAAQxB,SACV2B,EAAKP,YAAY,wBAAwBC,SAAS,OAASG,EAAQxB,QAAQ6B,OAGzEL,EAAQjB,MACVoB,EAAKnC,EAAE,SAASe,KAAKiB,EAAQjB,KAAKsB,OAGhCL,EAAQM,OACRH,EAAKnC,EAAE,iBAAiBuC,SACxBJ,EAAKK,QAAQ,4DAA8DR,EAAQS,SAASJ,MAAQ,mBAGpGL,EAAQU,YACRP,EAAKnC,EAAE,kBAAkBuC,SACrBP,EAAQU,UAAUL,OAClBF,EAAKQ,OAAO,6DAA+DX,EAAQU,UAAUL,MAAQ,qBAMjH,OAAOlC","file":"../Button.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/query\",\r\n  \"./ui\",\r\n  \"./Widget\"\r\n],function(langx,$,ui,Widget){\r\n\r\n\tvar Button = Widget.inherit({\r\n\t\tklassName : \"Button\",\r\n\r\n    pluginName : \"lark.button\",\r\n\r\n\t\toptions : {\r\n\t\t\tbtnSize : \"lg\",\r\n      btnType : \"default\",\r\n      leftIcon : null,\r\n      rightIcon : null,\r\n      topIcon : null, // TODO\r\n      bottomIcon : null //TODO\r\n\t\t},\r\n\r\n    state : {\r\n      \"text\" : String\r\n    },\r\n\r\n    _parse: function (elm,options) {\r\n      var $el = $(elm),\r\n          options = langx.mixin({},options);\r\n\r\n      if (!options.btnType) {\r\n        if ($el.hasClass(\"btn-link\")) {\r\n          options.btnType = \"link\";\r\n        } else if ($el.hasClass(\"btn-default\")) {\r\n          options.btnType = \"default\";\r\n        } else if ($el.hasClass(\"btn-primary\")) {\r\n          options.btnType = \"primary\";\r\n        } else if ($el.hasClass(\"btn-info\")) {\r\n          options.btnType = \"info\";\r\n        } else if ($el.hasClass(\"btn-success\")) {\r\n          options.btnType = \"success\";\r\n        } else if ($el.hasClass(\"btn-warning\")) {\r\n          options.btnType = \"warning\";\r\n        } else if ($el.hasClass(\"btn-danger\")) {\r\n          options.btnType = \"danger\";\r\n        }        \r\n      }\r\n\r\n      if (!options.btnSize) {\r\n        if ($el.hasClass(\"btn-xs\")) {\r\n          options.btnSize = \"xs\";\r\n        } else if ($el.hasClass(\"btn-sm\")) {\r\n          options.btnSize = \"sm\";\r\n        } else if ($el.hasClass(\"btn-lg\")) {\r\n          options.btnSize = \"lg\";\r\n        }        \r\n      }\r\n\r\n      if (!options.href) {\r\n        options.href = $el.attr('href');\r\n\r\n        options.target = $el.attr('target');\r\n      }\r\n\r\n      if (!options.text) {\r\n        options.text = $el.find('.text').text();\r\n      }\r\n\r\n      if (!options.leftIcon) {\r\n        var $fa_icon_left = $el.find('.fa-icon-left');\r\n        if ($fa_icon_left.length > 0) {\r\n          $fa_icon_left.removeClass('fa-icon-left').removeClass('fa');\r\n          options.leftIcon = $fa_icon_left.attr('class');\r\n          $fa_icon_left.addClass('fa-icon-left').addClass('fa');\r\n        }\r\n      }\r\n\r\n      if (!options.rightIcon) {\r\n        var $fa_icon_right = $el.find('.fa-icon-right');\r\n\r\n        if ($fa_icon_right.length > 0) {\r\n          $fa_icon_right.removeClass('fa-icon-right').removeClass('fa');\r\n          options.rightIcon = $fa_icon_right.attr('class');\r\n          $fa_icon_right.addClass('fa-icon-right').addClass('fa');\r\n        }        \r\n      }\r\n    },\r\n\r\n    _refresh: function (updates) {\r\n      this.overrided(updates);\r\n\r\n      var velm = this._velm;\r\n\r\n      if (updates.btnType) {\r\n          velm.removeClass('btn-link btn-default btn-primary btn-info btn-success btn-warning btn-danger').addClass(\"btn-\" + updates.btnType.value);\r\n      }\r\n\r\n      if (updates.btnSize) {\r\n        velm.removeClass('btn-xs btn-sm btn-lg').addClass(\"btn-\" + updates.btnSize.value);\r\n      }\r\n\r\n      if (updates.text) {\r\n        velm.$('.text').text(updates.text.value);\r\n      }\r\n\r\n      if (updates.left) {\r\n          velm.$('.fa-icon-left').remove();\r\n          velm.prepend('<i style=\"word-spacing: -1em;\" class=\"fa fa-icon-left fa-' + updates.iconleft.value + '\">&nbsp;</i>\\n');\r\n      }\r\n\r\n      if (updates.iconright) {\r\n          velm.$('.fa-icon-right').remove();\r\n          if (updates.iconright.value) {\r\n              velm.append('<i style=\"word-spacing: -1em;\" class=\"fa fa-icon-right fa-' + updates.iconright.value + '\">&nbsp;</i>\\n');\r\n          }\r\n      }\r\n    }\r\n  });\r\n\r\n  return Button;\r\n\r\n});\r\n\r\n\r\n\r\n"]}
{"version":3,"sources":["Pagination.js"],"names":["define","langx","browser","eventer","noder","geom","$","ui","Widget","Pagination","inherit","klassName","pluginName","options","totalPages","startPage","visiblePages","initiateStartPageClick","hideOnlyOnePage","href","pageVariable","totalPagesVariable","page","first","prev","next","last","loop","beforePageClick","onPageClick","paginationClass","nextClass","prevClass","lastClass","firstClass","pageClass","activeClass","disabledClass","anchorClass","_create","element","this","$element","extend","fn","twbsPagination","defaults","Error","parseInt","isNaN","Function","on","trigger","getPageFromQueryString","tagName","prop","attr","$listContainer","elements","$newListContainer","each","index","$newElem","append","push","addClass","show","currentPage","render","getPages","setupEvents","_destroy","empty","removeData","off","pages","enable","disable","_this","evt","preventDefault","children","$this","hasClass","_build","listItems","buildItem","i","numeric","length","_buildItem","type","$itemContainer","$itemContent","itemText","makeText","data","makeHref","html","half","Math","floor","start","end","itPage","remove","items","buildListItems","key","item","pageType","toggleClass","changeTotalPages","generateQueryString","text","replace","searchStr","search","getSearchString","regex","RegExp","exec","decodeURIComponent","pageNumber","window","location","indexOf","substr","getCurrentPage","getTotalPages","option","methodReturn","args","Array","prototype","slice","call","arguments","TwbsPagination","apply","undefined"],"mappings":"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","file":"../Pagination.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/browser\",\r\n  \"skylark-utils-dom/eventer\",\r\n  \"skylark-utils-dom/noder\",\r\n  \"skylark-utils-dom/geom\",\r\n  \"skylark-utils-dom/query\",\r\n  \"./ui\",\r\n  \"./Widget\"\r\n],function(langx,browser,eventer,noder,geom,$,ui,Widget){\r\n\r\n\r\n    /* This module used the following source code\r\n     * !\r\n     * jQuery pagination plugin v1.4.2\r\n     * http://josecebe.github.io/twbs-pagination/\r\n     *\r\n     * Copyright 2014-2018, Eugene Simakin\r\n     * Released under Apache 2.0 license\r\n     * http://apache.org/licenses/LICENSE-2.0.html\r\n     */\r\n\r\n    'use strict';\r\n\r\n    var Pagination = ui.Pagination = Widget.inherit({\r\n        klassName : \"Pagination\",\r\n\r\n        pluginName : \"lark.pagination\",\r\n\r\n\r\n        options : {\r\n            totalPages: 1,\r\n            startPage: 1,\r\n            visiblePages: 5,\r\n            initiateStartPageClick: true,\r\n            hideOnlyOnePage: false,\r\n            href: false,\r\n            pageVariable: '{{page}}',\r\n            totalPagesVariable: '{{total_pages}}',\r\n            page: null,\r\n            first: 'First',\r\n            prev: 'Previous',\r\n            next: 'Next',\r\n            last: 'Last',\r\n            loop: false,\r\n            beforePageClick: null,\r\n            onPageClick: null,\r\n            paginationClass: 'pagination',\r\n            nextClass: 'page-item next',\r\n            prevClass: 'page-item prev',\r\n            lastClass: 'page-item last',\r\n            firstClass: 'page-item first',\r\n            pageClass: 'page-item',\r\n            activeClass: 'active',\r\n            disabledClass: 'disabled',\r\n            anchorClass: 'page-link'         \r\n        },\r\n\r\n\r\n        _create : function(element, options) {\r\n            this.$element = $(element);\r\n            this.options = $.extend({}, $.fn.twbsPagination.defaults, options);\r\n\r\n            if (this.options.startPage < 1 || this.options.startPage > this.options.totalPages) {\r\n                throw new Error('Start page option is incorrect');\r\n            }\r\n\r\n            this.options.totalPages = parseInt(this.options.totalPages);\r\n            if (isNaN(this.options.totalPages)) {\r\n                throw new Error('Total pages option is not correct!');\r\n            }\r\n\r\n            this.options.visiblePages = parseInt(this.options.visiblePages);\r\n            if (isNaN(this.options.visiblePages)) {\r\n                throw new Error('Visible pages option is not correct!');\r\n            }\r\n\r\n            if (this.options.beforePageClick instanceof Function) {\r\n                this.$element.first().on('beforePage', this.options.beforePageClick);\r\n            }\r\n\r\n            if (this.options.onPageClick instanceof Function) {\r\n                this.$element.first().on('page', this.options.onPageClick);\r\n            }\r\n\r\n            // hide if only one page exists\r\n            if (this.options.hideOnlyOnePage && this.options.totalPages == 1) {\r\n                if (this.options.initiateStartPageClick) {\r\n                    this.$element.trigger('page', 1);\r\n                }\r\n                return this;\r\n            }\r\n\r\n            if (this.options.href) {\r\n                this.options.startPage = this.getPageFromQueryString();\r\n                if (!this.options.startPage) {\r\n                    this.options.startPage = 1;\r\n                }\r\n            }\r\n\r\n            var tagName = (typeof this.$element.prop === 'function') ?\r\n                this.$element.prop('tagName') : this.$element.attr('tagName');\r\n\r\n            if (tagName === 'UL') {\r\n                this.$listContainer = this.$element;\r\n            } else {\r\n                var elements = this.$element;\r\n                var $newListContainer = $([]);\r\n                elements.each(function(index) {\r\n                    var $newElem = $(\"<ul></ul>\");\r\n                    $(this).append($newElem);\r\n                    $newListContainer.push($newElem[0]);\r\n                });\r\n                this.$listContainer = $newListContainer;\r\n                this.$element = $newListContainer;\r\n            }\r\n\r\n            this.$listContainer.addClass(this.options.paginationClass);\r\n\r\n            if (this.options.initiateStartPageClick) {\r\n                this.show(this.options.startPage);\r\n            } else {\r\n                this.currentPage = this.options.startPage;\r\n                this.render(this.getPages(this.options.startPage));\r\n                this.setupEvents();\r\n            }\r\n\r\n            return this;\r\n\r\n        },\r\n\r\n        _destroy: function () {\r\n            this.$element.empty();\r\n            this.$element.removeData('twbs-pagination');\r\n            this.$element.off('page');\r\n\r\n            return this;\r\n        },\r\n\r\n        show: function (page) {\r\n            if (page < 1 || page > this.options.totalPages) {\r\n                throw new Error('Page is incorrect.');\r\n            }\r\n            this.currentPage = page;\r\n\r\n            this.$element.trigger('beforePage', page);\r\n\r\n            var pages = this.getPages(page);\r\n            this.render(pages);\r\n            this.setupEvents();\r\n\r\n            this.$element.trigger('page', page);\r\n\r\n            return pages;\r\n        },\r\n\r\n        enable: function () {\r\n            this.show(this.currentPage);\r\n        },\r\n\r\n        disable: function () {\r\n            var _this = this;\r\n            this.$listContainer.off('click').on('click', 'li', function (evt) {\r\n                evt.preventDefault();\r\n            });\r\n            this.$listContainer.children().each(function () {\r\n                var $this = $(this);\r\n                if (!$this.hasClass(_this.options.activeClass)) {\r\n                    $(this).addClass(_this.options.disabledClass);\r\n                }\r\n            });\r\n        },\r\n\r\n        _build: function (pages) {\r\n            var listItems = [];\r\n\r\n            if (this.options.first) {\r\n                listItems.push(this.buildItem('first', 1));\r\n            }\r\n\r\n            if (this.options.prev) {\r\n                var prev = pages.currentPage > 1 ? pages.currentPage - 1 : this.options.loop ? this.options.totalPages  : 1;\r\n                listItems.push(this.buildItem('prev', prev));\r\n            }\r\n\r\n            for (var i = 0; i < pages.numeric.length; i++) {\r\n                listItems.push(this.buildItem('page', pages.numeric[i]));\r\n            }\r\n\r\n            if (this.options.next) {\r\n                var next = pages.currentPage < this.options.totalPages ? pages.currentPage + 1 : this.options.loop ? 1 : this.options.totalPages;\r\n                listItems.push(this.buildItem('next', next));\r\n            }\r\n\r\n            if (this.options.last) {\r\n                listItems.push(this.buildItem('last', this.options.totalPages));\r\n            }\r\n\r\n            return listItems;\r\n        },\r\n\r\n        _buildItem: function (type, page) {\r\n            var $itemContainer = $('<li></li>'),\r\n                $itemContent = $('<a></a>'),\r\n                itemText = this.options[type] ? this.makeText(this.options[type], page) : page;\r\n\r\n            $itemContainer.addClass(this.options[type + 'Class']);\r\n            $itemContainer.data('page', page);\r\n            $itemContainer.data('page-type', type);\r\n            $itemContainer.append($itemContent.attr('href', this.makeHref(page)).addClass(this.options.anchorClass).html(itemText));\r\n\r\n            return $itemContainer;\r\n        },\r\n\r\n        getPages: function (currentPage) {\r\n            var pages = [];\r\n\r\n            var half = Math.floor(this.options.visiblePages / 2);\r\n            var start = currentPage - half + 1 - this.options.visiblePages % 2;\r\n            var end = currentPage + half;\r\n\r\n            var visiblePages = this.options.visiblePages;\r\n            if (visiblePages > this.options.totalPages) {\r\n                visiblePages = this.options.totalPages;\r\n            }\r\n\r\n            // handle boundary case\r\n            if (start <= 0) {\r\n                start = 1;\r\n                end = visiblePages;\r\n            }\r\n            if (end > this.options.totalPages) {\r\n                start = this.options.totalPages - visiblePages + 1;\r\n                end = this.options.totalPages;\r\n            }\r\n\r\n            var itPage = start;\r\n            while (itPage <= end) {\r\n                pages.push(itPage);\r\n                itPage++;\r\n            }\r\n\r\n            return {\"currentPage\": currentPage, \"numeric\": pages};\r\n        },\r\n\r\n        render: function (pages) {\r\n            var _this = this;\r\n            this.$listContainer.children().remove();\r\n            var items = this.buildListItems(pages);\r\n            $.each(items, function(key, item){\r\n                _this.$listContainer.append(item);\r\n            });\r\n\r\n            this.$listContainer.children().each(function () {\r\n                var $this = $(this),\r\n                    pageType = $this.data('page-type');\r\n\r\n                switch (pageType) {\r\n                    case 'page':\r\n                        if ($this.data('page') === pages.currentPage) {\r\n                            $this.addClass(_this.options.activeClass);\r\n                        }\r\n                        break;\r\n                    case 'first':\r\n                            $this.toggleClass(_this.options.disabledClass, pages.currentPage === 1);\r\n                        break;\r\n                    case 'last':\r\n                            $this.toggleClass(_this.options.disabledClass, pages.currentPage === _this.options.totalPages);\r\n                        break;\r\n                    case 'prev':\r\n                            $this.toggleClass(_this.options.disabledClass, !_this.options.loop && pages.currentPage === 1);\r\n                        break;\r\n                    case 'next':\r\n                            $this.toggleClass(_this.options.disabledClass,\r\n                                !_this.options.loop && pages.currentPage === _this.options.totalPages);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n\r\n            });\r\n        },\r\n\r\n        setupEvents: function () {\r\n            var _this = this;\r\n            this.$listContainer.off('click').on('click', 'li', function (evt) {\r\n                var $this = $(this);\r\n                if ($this.hasClass(_this.options.disabledClass) || $this.hasClass(_this.options.activeClass)) {\r\n                    return false;\r\n                }\r\n                // Prevent click event if href is not set.\r\n                !_this.options.href && evt.preventDefault();\r\n                _this.show(parseInt($this.data('page')));\r\n            });\r\n        },\r\n\r\n        changeTotalPages: function(totalPages, currentPage) {\r\n            this.options.totalPages = totalPages;\r\n            return this.show(currentPage);\r\n        },\r\n\r\n        makeHref: function (page) {\r\n            return this.options.href ? this.generateQueryString(page) : \"#\";\r\n        },\r\n\r\n        makeText: function (text, page) {\r\n            return text.replace(this.options.pageVariable, page)\r\n                .replace(this.options.totalPagesVariable, this.options.totalPages)\r\n        },\r\n\r\n        getPageFromQueryString: function (searchStr) {\r\n            var search = this.getSearchString(searchStr),\r\n                regex = new RegExp(this.options.pageVariable + '(=([^&#]*)|&|#|$)'),\r\n                page = regex.exec(search);\r\n            if (!page || !page[2]) {\r\n                return null;\r\n            }\r\n            page = decodeURIComponent(page[2]);\r\n            page = parseInt(page);\r\n            if (isNaN(page)) {\r\n                return null;\r\n            }\r\n            return page;\r\n        },\r\n\r\n        generateQueryString: function (pageNumber, searchStr) {\r\n            var search = this.getSearchString(searchStr),\r\n                regex = new RegExp(this.options.pageVariable + '=*[^&#]*');\r\n            if (!search) return '';\r\n            return '?' + search.replace(regex, this.options.pageVariable + '=' + pageNumber);\r\n        },\r\n\r\n        getSearchString: function (searchStr) {\r\n            var search = searchStr || window.location.search;\r\n            if (search === '') {\r\n                return null;\r\n            }\r\n            if (search.indexOf('?') === 0) search = search.substr(1);\r\n            return search;\r\n        },\r\n\r\n        getCurrentPage: function () {\r\n            return this.currentPage;\r\n        },\r\n\r\n        getTotalPages: function () {\r\n            return this.options.totalPages;\r\n        }\r\n\r\n    });\r\n\r\n    // PLUGIN DEFINITION\r\n\r\n    $.fn.twbsPagination = function (option) {\r\n        var args = Array.prototype.slice.call(arguments, 1);\r\n        var methodReturn;\r\n\r\n        var $this = $(this);\r\n        var data = $this.data('twbs-pagination');\r\n        var options = typeof option === 'object' ? option : {};\r\n\r\n        if (!data) $this.data('twbs-pagination', (data = new TwbsPagination(this, options) ));\r\n        if (typeof option === 'string') methodReturn = data[ option ].apply(data, args);\r\n\r\n        return ( methodReturn === undefined ) ? $this : methodReturn;\r\n    };\r\n\r\n    return Pagination;\r\n});"]}
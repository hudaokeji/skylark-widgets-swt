{"version":3,"sources":["Combobox.js"],"names":["define","langx","browser","eventer","noder","geom","$","ui","Widget","Combobox","inherit","klassName","pluginName","options","autoResizeMenu","filterOnKeypress","showOptionsOnKeypress","filter","list","predicate","self","visible","$dropMenu","find","remove","each","i","$li","this","text","trim","removeClass","addClass","substr","length","append","_init","element","$element","mixin","fn","combobox","defaults","$input","$button","dropdown","$inputGroupBtn","on","proxy","itemclicked","inputchanged","menuShown","keypress","setDefaultSelection","items","children","val","_destroy","attr","outerHTML","doSelect","$item","$selectedItem","clearSelection","resizeMenu","width","outerWidth","selectedItem","item","data","txt","notFound","selectByText","textContent","innerText","toLowerCase","selectByValue","value","selector","selectBySelector","selectByIndex","index","removeData","removeAttr","enable","disable","e","target","parent","trigger","synthetic","preventDefault","focus","ENTER","ESC","LEFT","UP","RIGHT","DOWN","IS_NAVIGATIONAL","which","hasClass","selected","$selected","next","prev","previousKeyPress","extra","prototype","getValue"],"mappings":"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","file":"../Combobox.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/browser\",\r\n  \"skylark-utils-dom/eventer\",\r\n  \"skylark-utils-dom/noder\",\r\n  \"skylark-utils-dom/geom\",\r\n  \"skylark-utils-dom/query\",\r\n  \"./ui\",\r\n  \"./Widget\"\r\n],function(langx,browser,eventer,noder,geom,$,ui,Widget){\r\n\r\n\r\n\r\n\t// COMBOBOX CONSTRUCTOR AND PROTOTYPE\r\n\r\n\tvar Combobox = ui.Combobox = Widget.inherit({\r\n\t\tklassName: \"Combobox\",\r\n\r\n\t\tpluginName : \"lark.combobox\",\r\n\r\n\t\toptions : {\r\n\r\n\t\t\tautoResizeMenu: true,\r\n\t\t\tfilterOnKeypress: false,\r\n\t\t\tshowOptionsOnKeypress: false,\r\n\t\t\tfilter: function filter (list, predicate, self) {\r\n\t\t\t\tvar visible = 0;\r\n\t\t\t\tself.$dropMenu.find('.empty-indicator').remove();\r\n\r\n\t\t\t\tlist.each(function (i) {\r\n\t\t\t\t\tvar $li = $(this);\r\n\t\t\t\t\tvar text = $(this).text().trim();\r\n\r\n\t\t\t\t\t$li.removeClass();\r\n\r\n\t\t\t\t\tif (text === predicate) {\r\n\t\t\t\t\t\t$li.addClass('text-success');\r\n\t\t\t\t\t\tvisible++;\r\n\t\t\t\t\t} else if (text.substr(0, predicate.length) === predicate) {\r\n\t\t\t\t\t\t$li.addClass('text-info');\r\n\t\t\t\t\t\tvisible++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$li.addClass('hidden');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (visible === 0) {\r\n\t\t\t\t\tself.$dropMenu.append('<li class=\"empty-indicator text-muted\"><em>No Matches</em></li>');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_init : function(element,options) {\r\n\t\t\tthis.$element = $(element);\r\n\t\t\tthis.options = langx.mixin({}, $.fn.combobox.defaults, options);\r\n\r\n\t\t\tthis.$dropMenu = this.$element.find('.dropdown-menu');\r\n\t\t\tthis.$input = this.$element.find('input');\r\n\t\t\tthis.$button = this.$element.find('.btn');\r\n\t\t\tthis.$button.dropdown();\r\n\t\t\tthis.$inputGroupBtn = this.$element.find('.input-group-btn');\r\n\r\n\t\t\tthis.$element.on('click.lark', 'a', langx.proxy(this.itemclicked, this));\r\n\t\t\tthis.$element.on('change.lark', 'input', langx.proxy(this.inputchanged, this));\r\n\t\t\tthis.$element.on('shown.bs.dropdown', langx.proxy(this.menuShown, this));\r\n\t\t\tthis.$input.on('keyup.lark', langx.proxy(this.keypress, this));\r\n\r\n\t\t\t// set default selection\r\n\t\t\tthis.setDefaultSelection();\r\n\r\n\t\t\t// if dropdown is empty, disable it\r\n\t\t\tvar items = this.$dropMenu.children('li');\r\n\t\t\tif( items.length === 0) {\r\n\t\t\t\tthis.$button.addClass('disabled');\r\n\t\t\t}\r\n\r\n\t\t\t// filter on load in case the first thing they do is press navigational key to pop open the menu\r\n\t\t\tif (this.options.filterOnKeypress) {\r\n\t\t\t\tthis.options.filter(this.$dropMenu.find('li'), this.$input.val(), this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_destroy: function () {\r\n\t\t\tthis.$element.remove();\r\n\t\t\t// remove any external bindings\r\n\t\t\t// [none]\r\n\r\n\t\t\t// set input value attrbute in markup\r\n\t\t\tthis.$element.find('input').each(function () {\r\n\t\t\t\t$(this).attr('value', $(this).val());\r\n\t\t\t});\r\n\r\n\t\t\t// empty elements to return to original markup\r\n\t\t\t// [none]\r\n\r\n\t\t\treturn this.$element[0].outerHTML;\r\n\t\t},\r\n\r\n\t\tdoSelect: function ($item) {\r\n\r\n\t\t\tif (typeof $item[0] !== 'undefined') {\r\n\t\t\t\t// remove selection from old item, may result in remove and\r\n\t\t\t\t// re-addition of class if item is the same\r\n\t\t\t\tthis.$element.find('li.selected:first').removeClass('selected');\r\n\r\n\t\t\t\t// add selection to new item\r\n\t\t\t\tthis.$selectedItem = $item;\r\n\t\t\t\tthis.$selectedItem.addClass('selected');\r\n\r\n\t\t\t\t// update input\r\n\t\t\t\tthis.$input.val(this.$selectedItem.text().trim());\r\n\t\t\t} else {\r\n\t\t\t\t// this is a custom input, not in the menu\r\n\t\t\t\tthis.$selectedItem = null;\r\n\t\t\t\tthis.$element.find('li.selected:first').removeClass('selected');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclearSelection: function () {\r\n\t\t\tthis.$selectedItem = null;\r\n\t\t\tthis.$input.val('');\r\n\t\t\tthis.$dropMenu.find('li').removeClass('selected');\r\n\t\t},\r\n\r\n\t\tmenuShown: function () {\r\n\t\t\tif (this.options.autoResizeMenu) {\r\n\t\t\t\tthis.resizeMenu();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tresizeMenu: function () {\r\n\t\t\tvar width = this.$element.outerWidth();\r\n\t\t\tthis.$dropMenu.outerWidth(width);\r\n\t\t},\r\n\r\n\t\tselectedItem: function () {\r\n\t\t\tvar item = this.$selectedItem;\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tif (item) {\r\n\t\t\t\tvar txt = this.$selectedItem.text().trim();\r\n\t\t\t\tdata = langx.mixin({\r\n\t\t\t\t\ttext: txt\r\n\t\t\t\t}, this.$selectedItem.data());\r\n\t\t\t} else {\r\n\t\t\t\tdata = {\r\n\t\t\t\t\ttext: this.$input.val().trim(),\r\n\t\t\t\t\tnotFound: true\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tselectByText: function (text) {\r\n\t\t\tvar $item = $([]);\r\n\t\t\tthis.$element.find('li').each(function () {\r\n\t\t\t\tif ((this.textContent || this.innerText || $(this).text() || '').trim().toLowerCase() === (text || '').trim().toLowerCase()) {\r\n\t\t\t\t\t$item = $(this);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.doSelect($item);\r\n\t\t},\r\n\r\n\t\tselectByValue: function (value) {\r\n\t\t\tvar selector = 'li[data-value=\"' + value + '\"]';\r\n\t\t\tthis.selectBySelector(selector);\r\n\t\t},\r\n\r\n\t\tselectByIndex: function (index) {\r\n\t\t\t// zero-based index\r\n\t\t\tvar selector = 'li:eq(' + index + ')';\r\n\t\t\tthis.selectBySelector(selector);\r\n\t\t},\r\n\r\n\t\tselectBySelector: function (selector) {\r\n\t\t\tvar $item = this.$element.find(selector);\r\n\t\t\tthis.doSelect($item);\r\n\t\t},\r\n\r\n\t\tsetDefaultSelection: function () {\r\n\t\t\tvar selector = 'li[data-selected=true]:first';\r\n\t\t\tvar item = this.$element.find(selector);\r\n\r\n\t\t\tif (item.length > 0) {\r\n\t\t\t\t// select by data-attribute\r\n\t\t\t\tthis.selectBySelector(selector);\r\n\t\t\t\titem.removeData('selected');\r\n\t\t\t\titem.removeAttr('data-selected');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tenable: function () {\r\n\t\t\tthis.$element.removeClass('disabled');\r\n\t\t\tthis.$input.removeAttr('disabled');\r\n\t\t\tthis.$button.removeClass('disabled');\r\n\t\t},\r\n\r\n\t\tdisable: function () {\r\n\t\t\tthis.$element.addClass('disabled');\r\n\t\t\tthis.$input.attr('disabled', true);\r\n\t\t\tthis.$button.addClass('disabled');\r\n\t\t},\r\n\r\n\t\titemclicked: function (e) {\r\n\t\t\tthis.$selectedItem = $(e.target).parent();\r\n\r\n\t\t\t// set input text and trigger input change event marked as synthetic\r\n\t\t\tthis.$input.val(this.$selectedItem.text().trim()).trigger('change', {\r\n\t\t\t\tsynthetic: true\r\n\t\t\t});\r\n\r\n\t\t\t// pass object including text and any data-attributes\r\n\t\t\t// to onchange event\r\n\t\t\tvar data = this.selectedItem();\r\n\r\n\t\t\t// trigger changed event\r\n\t\t\tthis.$element.trigger('changed.lark', data);\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// return focus to control after selecting an option\r\n\t\t\tthis.$element.find('.dropdown-toggle').focus();\r\n\t\t},\r\n\r\n\t\tkeypress: function (e) {\r\n\t\t\tvar ENTER = 13;\r\n\t\t\t//var TAB = 9;\r\n\t\t\tvar ESC = 27;\r\n\t\t\tvar LEFT = 37;\r\n\t\t\tvar UP = 38;\r\n\t\t\tvar RIGHT = 39;\r\n\t\t\tvar DOWN = 40;\r\n\r\n\t\t\tvar IS_NAVIGATIONAL = (\r\n\t\t\t\te.which === UP ||\r\n\t\t\t\te.which === DOWN ||\r\n\t\t\t\te.which === LEFT ||\r\n\t\t\t\te.which === RIGHT\r\n\t\t\t);\r\n\r\n\t\t\tif(this.options.showOptionsOnKeypress && !this.$inputGroupBtn.hasClass('open')){\r\n\t\t\t\tthis.$button.dropdown('toggle');\r\n\t\t\t\tthis.$input.focus();\r\n\t\t\t}\r\n\r\n\t\t\tif (e.which === ENTER) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tvar selected = this.$dropMenu.find('li.selected').text().trim();\r\n\t\t\t\tif(selected.length > 0){\r\n\t\t\t\t\tthis.selectByText(selected);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.selectByText(this.$input.val());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$inputGroupBtn.removeClass('open');\r\n\t\t\t} else if (e.which === ESC) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.clearSelection();\r\n\t\t\t\tthis.$inputGroupBtn.removeClass('open');\r\n\t\t\t} else if (this.options.showOptionsOnKeypress) {\r\n\t\t\t\tif (e.which === DOWN || e.which === UP) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tvar $selected = this.$dropMenu.find('li.selected');\r\n\t\t\t\t\tif ($selected.length > 0) {\r\n\t\t\t\t\t\tif (e.which === DOWN) {\r\n\t\t\t\t\t\t\t$selected = $selected.next(':not(.hidden)');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$selected = $selected.prev(':not(.hidden)');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ($selected.length === 0){\r\n\t\t\t\t\t\tif (e.which === DOWN) {\r\n\t\t\t\t\t\t\t$selected = this.$dropMenu.find('li:not(.hidden):first');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$selected = this.$dropMenu.find('li:not(.hidden):last');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.doSelect($selected);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Avoid filtering on navigation key presses\r\n\t\t\tif (this.options.filterOnKeypress && !IS_NAVIGATIONAL) {\r\n\t\t\t\tthis.options.filter(this.$dropMenu.find('li'), this.$input.val(), this);\r\n\t\t\t}\r\n\r\n\t\t\tthis.previousKeyPress = e.which;\r\n\t\t},\r\n\r\n\t\tinputchanged: function (e, extra) {\r\n\t\t\tvar val = $(e.target).val();\r\n\t\t\t// skip processing for internally-generated synthetic event\r\n\t\t\t// to avoid double processing\r\n\t\t\tif (extra && extra.synthetic) {\r\n\t\t\t\tthis.selectByText(val);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.selectByText(val);\r\n\r\n\t\t\t// find match based on input\r\n\t\t\t// if no match, pass the input value\r\n\t\t\tvar data = this.selectedItem();\r\n\t\t\tif (data.text.length === 0) {\r\n\t\t\t\tdata = {\r\n\t\t\t\t\ttext: val\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// trigger changed event\r\n\t\t\tthis.$element.trigger('changed.lark', data);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\r\n\tCombobox.prototype.getValue = Combobox.prototype.selectedItem;\r\n\r\n\r\n\r\n\treturn Combobox;\r\n});\r\n"]}
{"version":3,"sources":["ListGroup.js"],"names":["define","langx","$","swt","Widget","inherit","klassName","pluginName","options","multiSelect","multiTier","toggle","classes","active","selectors","item","selected","state","Object","_init","this","overrided","self","velm","_velm","itemSelector","_$items","on","veItem","_elmx","hasClass","value","data","undefined","index","set","$this","$toggle","obj","query","has","children","addClass","not","doubleTapToGo","e","preventDefault","attr","stopPropagation","document","location","parent","toggleClass","collapse","siblings","removeClass","_refresh","updates","findItem","valueOrIdx","isNumber","eq","filter","oldValue","selectOneItem"],"mappings":";;;;;;;AAACA,QACC,sBACA,0BACA,QACA,YACA,SAASC,EAAMC,EAAEC,EAAIC,GA4HrB,OA1HkBA,EAAOC,SACnBC,UAAY,YAEZC,WAAa,iBAEbC,SACCC,aAAa,EACXC,WAAY,EACZC,QAAS,EACTC,SACEC,OAAS,UAEXC,WACEC,KAAO,oBAETC,SAAW,GAGdC,OACED,SAAWE,QAGbC,MAAQ,WACJC,KAAKC,YACL,IAAIC,EAAOF,KACPG,EAAOH,KAAKI,MACZC,EAAeL,KAAKZ,QAAQM,UAAUC,KAE1CK,KAAKM,QAAUH,EAAKrB,EAAEuB,GAEtBF,EAAKI,GAAG,QAASF,EAAc,WAC3B,IAAIG,EAASN,EAAKO,MAAMT,MAExB,IAAKQ,EAAOE,SAAS,YAAa,CAChC,IAAIC,EAAQH,EAAOI,KAAK,cACVC,IAAVF,IACFA,EAAQT,EAAKI,QAAQQ,MAAMd,OAE7BE,EAAKL,MAAMkB,IAAI,WAAWJ,GAI5B,OAAO,IAEXX,KAAKH,MAAMkB,IAAI,WAAWf,KAAKZ,QAAQQ,UAEvC,IAAIoB,EAAQb,EACRc,EAAUjB,KAAKZ,QAAQG,OACvB2B,EAAMlB,KAMNgB,EAAMG,MAAM,aAAaC,IAAI,MAAMC,SAAS,MAAMC,SAAS,eAC3DN,EAAMG,MAAM,MAAMI,IAAI,WAAWH,IAAI,MAAMC,SAAS,MAAMC,SAAS,YAInEJ,EAAI9B,QAAQoC,eACZR,EAAMG,MAAM,aAAaC,IAAI,MAAMC,SAAS,KAAKC,SAAS,iBAG9DN,EAAMG,MAAM,MAAMC,IAAI,MAAMC,SAAS,KAAKd,GAAG,SAAgBP,KAAKb,WAAY,SAASsC,GAInF,GAHAA,EAAEC,iBAGER,EAAI9B,QAAQoC,eAGRN,EAAIM,cAAc1C,EAAEkB,QAAmC,MAAzBlB,EAAEkB,MAAM2B,KAAK,SAA4C,KAAzB7C,EAAEkB,MAAM2B,KAAK,QAG3E,OAFAF,EAAEG,uBACFC,SAASC,SAAWhD,EAAEkB,MAAM2B,KAAK,SAKzC7C,EAAEkB,MAAM+B,OAAO,MAAMC,YAAY,UAAUX,SAAS,MAAMY,SAAS,UAE/DhB,GACAnC,EAAEkB,MAAM+B,OAAO,MAAMG,WAAWC,YAAY,UAAUd,SAAS,SAASY,SAAS,WAQ7FG,SAAW,SAASC,GAClBrC,KAAKC,UAAUoC,GACf,IAAInC,EAAQF,KAEZ,SAASsC,EAASC,GAOhB,OALI1D,EAAM2D,SAASD,GACTrC,EAAKI,QAAQmC,GAAGF,GAEhBrC,EAAKI,QAAQoC,OAAO,gBAAkBH,EAAa,MAa3DF,EAAkB,WAChBrC,KAAKZ,QAAQC,cAJjBiD,EAMkBD,EAAkB,SAAEM,UANjBR,YAAYjC,EAAKd,QAAQI,QAAQC,QALxD,SAAuB8C,GACrBD,EAASC,GAAYjB,SAASpB,EAAKd,QAAQI,QAAQC,QAWjDmD,CAAcP,EAAkB,SAAE1B","file":"../ListGroup.js","sourcesContent":[" define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/query\",\r\n  \"./swt\",\r\n  \"./Widget\"\r\n],function(langx,$,swt,Widget){\r\n\r\n    var ListGroup = Widget.inherit({\r\n        klassName : \"ListGroup\",\r\n\r\n        pluginName : \"lark.listgroup\",\r\n\r\n        options : {\r\n        \tmultiSelect: false,\r\n          \tmultiTier : false,\r\n          \ttoggle : false,\r\n          \tclasses : {\r\n            \tactive : \"active\"\r\n          \t},\r\n          \tselectors : {\r\n            \titem : \".list-group-item\"\r\n          \t},\r\n          \tselected : 0\r\n        },\r\n\r\n        state : {\r\n          selected : Object\r\n        },\r\n\r\n        _init : function() {\r\n            this.overrided();\r\n            var self = this,\r\n                velm = this._velm,\r\n                itemSelector = this.options.selectors.item;\r\n\r\n            this._$items = velm.$(itemSelector);\r\n\r\n            velm.on('click', itemSelector, function () {\r\n                var veItem = self._elmx(this);\r\n\r\n                if (!veItem.hasClass('disabled')) {\r\n                  var value = veItem.data(\"value\");\r\n                  if (value === undefined) {\r\n                    value = self._$items.index(this);\r\n                  }\r\n                  self.state.set(\"selected\",value);\r\n                }\r\n\r\n                //veItem.blur();\r\n                return false;\r\n            });\r\n            this.state.set(\"selected\",this.options.selected);\r\n\r\n            var $this = velm,\r\n                $toggle = this.options.toggle,\r\n                obj = this;\r\n\r\n            //if (this.isIE() <= 9) {\r\n            //    $this.find(\"li.active\").has(\"ul\").children(\"ul\").collapse(\"show\");\r\n            //    $this.find(\"li\").not(\".active\").has(\"ul\").children(\"ul\").collapse(\"hide\");\r\n            //} else {\r\n                $this.query(\"li.active\").has(\"ul\").children(\"ul\").addClass(\"collapse in\");\r\n                $this.query(\"li\").not(\".active\").has(\"ul\").children(\"ul\").addClass(\"collapse\");\r\n            //}\r\n\r\n            //add the \"doubleTapToGo\" class to active items if needed\r\n            if (obj.options.doubleTapToGo) {\r\n                $this.query(\"li.active\").has(\"ul\").children(\"a\").addClass(\"doubleTapToGo\");\r\n            }\r\n\r\n            $this.query(\"li\").has(\"ul\").children(\"a\").on(\"click\" + \".\" + this.pluginName, function(e) {\r\n                e.preventDefault();\r\n\r\n                //Do we need to enable the double tap\r\n                if (obj.options.doubleTapToGo) {\r\n\r\n                    //if we hit a second time on the link and the href is valid, navigate to that url\r\n                    if (obj.doubleTapToGo($(this)) && $(this).attr(\"href\") !== \"#\" && $(this).attr(\"href\") !== \"\") {\r\n                        e.stopPropagation();\r\n                        document.location = $(this).attr(\"href\");\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                $(this).parent(\"li\").toggleClass(\"active\").children(\"ul\").collapse(\"toggle\");\r\n\r\n                if ($toggle) {\r\n                    $(this).parent(\"li\").siblings().removeClass(\"active\").children(\"ul.in\").collapse(\"hide\");\r\n                }\r\n\r\n            });\r\n\r\n\r\n        },\r\n\r\n        _refresh : function(updates) {\r\n          this.overrided(updates);\r\n          var self  = this;\r\n\r\n          function findItem(valueOrIdx) {\r\n            var $item;\r\n            if (langx.isNumber(valueOrIdx)) {\r\n              $item = self._$items.eq(valueOrIdx);\r\n            } else {\r\n              $item = self._$items.filter('[data-value=\"' + valueOrIdx + '\"]');\r\n            }\r\n            return $item;\r\n          } \r\n                 \r\n          function selectOneItem(valueOrIdx) {\r\n            findItem(valueOrIdx).addClass(self.options.classes.active);\r\n          }\r\n\r\n          function unselectOneItem(valueOrIdx) {\r\n            findItem(valueOrIdx).removeClass(self.options.classes.active);\r\n          }\r\n\r\n          if (updates[\"selected\"]) {\r\n            if (this.options.multiSelect) {\r\n            } else {\r\n              unselectOneItem(updates[\"selected\"].oldValue);\r\n              selectOneItem(updates[\"selected\"].value);\r\n            }\r\n\r\n          }\r\n        }\r\n\r\n  });\r\n\r\n  return ListGroup;\r\n\r\n});\r\n\r\n\r\n\r\n"]}
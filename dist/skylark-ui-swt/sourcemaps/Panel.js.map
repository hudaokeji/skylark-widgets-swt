{"version":3,"sources":["Panel.js"],"names":["define","langx","browser","eventer","noder","geom","$","collapse","ui","Widget","getTargetFromTrigger","$trigger","href","target","attr","replace","Panel","inherit","klassName","pluginName","_init","this","_velm","on","e","$this","preventDefault","$target","collpasePlugin","toggle","data","expand","_elm","toogle","full","unfull","toogleFull","close","panel_dom","dom","id","minimize","promise","then","fadeOut"],"mappings":";;;;;;;AAAAA,QACE,sBACA,4BACA,4BACA,0BACA,yBACA,0BACA,8BACA,OACA,YACA,SAASC,EAAMC,EAAQC,EAAQC,EAAMC,EAAKC,EAAEC,EAASC,EAAGC,GAExD,QAASC,GAAqBC,GAC5B,GAAIC,GACAC,EAASF,EAASG,KAAK,iBACrBF,EAAOD,EAASG,KAAK,UAAYF,EAAKG,QAAQ,iBAAkB,GAEtE,OAAOT,GAAEO,GAGX,GAAIG,GAAQP,EAAOQ,SACjBC,UAAY,QAEZC,WAAa,aAEbC,MAAQ,WACNC,KAAKC,MAAMC,GAAG,6BAA8B,2BAA4B,SAAUC,GAChF,GAAIC,GAAUnB,EAAEe,KAEXI,GAAMX,KAAK,gBAAgBU,EAAEE,gBAElC,IAAIC,GAAUjB,EAAqBe,GAC/BG,EAAoBD,EAAQpB,SAAS,WACrCqB,GACFA,EAAeC,SAEfF,EAAQpB,SAASkB,EAAMK,WAO7BC,OAAS,WAEPzB,EAAEe,KAAKW,MAAMzB,SAAS,SAGxBA,SAAW,WAETc,KAAKC,MAAMf,SAAS,SAGtB0B,OAAS,WAERZ,KAAKC,MAAMf,SAAS,WAGrB2B,KAAO,aAIPC,OAAS,aAITC,WAAa,aAIbC,MAAO,WACL,GAAIC,GAAYjB,KAAKkB,IAAIC,GACzBnB,MAAKoB,SAASD,IAAI,GAAME,UAAUC,KAAK,WACrCL,EAAUM,cAQhB,OAAO5B","file":"../Panel.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/browser\",\r\n  \"skylark-utils-dom/eventer\",\r\n  \"skylark-utils-dom/noder\",\r\n  \"skylark-utils-dom/geom\",\r\n  \"skylark-utils-dom/query\",\r\n  \"skylark-bootstrap3/collapse\",\r\n  \"./ui\",\r\n  \"./Widget\"\r\n],function(langx,browser,eventer,noder,geom,$,collapse,ui,Widget){\r\n\r\n  function getTargetFromTrigger($trigger) {\r\n    var href\r\n    var target = $trigger.attr('data-target')\r\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\r\n\r\n    return $(target)\r\n  }\r\n\r\n  var Panel = Widget.inherit({\r\n    klassName : \"Panel\",\r\n\r\n    pluginName : \"lark.panel\",\r\n\r\n    _init : function() {\r\n      this._velm.on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\r\n        var $this   = $(this)\r\n\r\n        if (!$this.attr('data-target')) e.preventDefault()\r\n\r\n        var $target = getTargetFromTrigger($this)\r\n        var collpasePlugin    = $target.collapse('instance');\r\n        if (collpasePlugin) {\r\n          collpasePlugin.toggle();\r\n        } else {\r\n          $target.collapse($this.data());\r\n        }\r\n\r\n      });\r\n\r\n    },\r\n\r\n    expand : function() {\r\n      // expand this panel\r\n      $(this._elm).collapse(\"show\");\r\n    },\r\n\r\n    collapse : function() {\r\n      // collapse this panel\r\n      this._velm.collapse(\"hide\");\r\n    },\r\n\r\n    toogle : function() {\r\n      // toogle this panel\r\n     this._velm.collapse(\"toogle\");\r\n    },\r\n\r\n    full : function() {\r\n\r\n    },\r\n\r\n    unfull : function() {\r\n\r\n    },\r\n\r\n    toogleFull : function() {\r\n\r\n    },\r\n    \r\n    close: function () {\r\n      var panel_dom = this.dom(id);\r\n      this.minimize(id, true).promise().then(function () {\r\n        panel_dom.fadeOut();\r\n      });\r\n    }\r\n\r\n\r\n  });\r\n\r\n\r\n  return Panel;\r\n\r\n});"]}
{"version":3,"sources":["Radio.js"],"names":["define","langx","browser","eventer","noder","geom","$","ui","_Toggler","Radio","inherit","klassName","pluginName","_parse","$radio","this","checked","prop","disabled","state","set","_init","element","domNode","$element","tagName","toLowerCase","logError","$label","find","$container","parent","options","ignoreVisibilityCheck","css","match","containerSelector","attr","$toggleContainer","setInitialState","_sync","self","on","evt","_refresh","updates","setCheckedState","$lbl","$containerToggle","resetGroup","addClass","removeClass","setDisabledState","overrided","changed","value","$radios","groupName","each","index","item"],"mappings":";;;;;;;AAAAA,QACE,sBACA,4BACA,4BACA,0BACA,yBACA,0BACA,OACA,cACA,SAASC,EAAMC,EAAQC,EAAQC,EAAMC,EAAKC,EAAEC,EAAGC,GAE/C,GAAIC,GAAQF,EAAGE,MAAQD,EAASE,SAC9BC,UAAW,QAEXC,WAAa,aAEbC,OAAS,WACP,GAAIC,GAASC,KAAKD,OAGdE,EAAUF,EAAOG,KAAK,WACtBC,EAAWJ,EAAOG,KAAK,WAE3BF,MAAKI,MAAMC,IAAI,UAAUJ,GACzBD,KAAKI,MAAMC,IAAgBF,IAI7BG,MAAQ,WAEN,GAAIC,GAAUP,KAAKQ,QACfC,EAAWlB,EAAEgB,EAEjB,IAAsC,UAAlCA,EAAQG,QAAQC,cAElB,WADAC,UAAS,oPAKXZ,MAAKa,OAASJ,EACdT,KAAKD,OAASC,KAAKa,OAAOC,KAAK,0BAC/Bd,KAAKe,WAAaN,EAASO,OAAO,cAE7BhB,KAAKiB,QAAQC,uBAAyBlB,KAAKD,OAAOoB,IAAI,cAAcC,MAAM,oBAC7ER,SAAS,sOAIX,IAAIS,GAAoBrB,KAAKD,OAAOuB,KAAK,cACzCtB,MAAKuB,iBAAmBhC,EAAE8B,GAI1BrB,KAAKwB,mBAGPC,MAAQ,WAEN,GAAIC,GAAO1B,IACXA,MAAKD,OAAO4B,GAAG,SAAU,SAASC,GAEhC,GAAI3B,GAAUyB,EAAK3B,OAAOG,KAAK,UAC/BwB,GAAKtB,MAAMC,IAAI,UAAUJ,MAI7B4B,SAAW,SAASC,GAEhB,QAASC,GAAiB9B,GACxB,GAAIF,GAAS2B,EAAK3B,OACdiC,EAAON,EAAKb,OACZoB,EAAmBP,EAAKH,gBAExBtB,IAEFD,KAAKkC,aAELnC,EAAOG,KAAK,WAAW,GACvB8B,EAAKG,SAAS,WACdF,EAAiBG,YAAY,iBAE7BrC,EAAOG,KAAK,WAAW,GACvB8B,EAAKI,YAAY,WACjBH,EAAiBE,SAAS,WAI9B,QAASE,GAAkBlC,GACzB,GAAIJ,GAAS2B,EAAK3B,OACdiC,EAAON,EAAKb,MAEZV,IACFJ,EAAOG,KAAK,YAAY,GACxB8B,EAAKG,SAAS,cAEdpC,EAAOG,KAAK,YAAY,GACxB8B,EAAKI,YAAY,aAKrBpC,KAAKsC,UAAUC,QACf,IAAIb,GAAQ1B,IAER8B,GAAiB,SACnBC,EAAgBD,EAAiB,QAAEU,OAEjCV,EAAkB,UACpBO,EAAiBP,EAAkB,SAAEU,QAI3CN,WAAY,WACV,GAAIO,GAAUlD,EAAE,eAAiBS,KAAK0C,UAAY,KAClDD,GAAQE,KAAK,SAAqBC,EAAOC,GACvC,GAAI9C,GAASR,EAAEsD,GACXb,EAAOjC,EAAOiB,SACdK,EAAoBtB,EAAOuB,KAAK,eAChCW,EAAmB1C,EAAE8B,EAGzBW,GAAKI,YAAY,WACjBH,EAAiBE,SAAS,cAKhC,OAAOzC","file":"../Radio.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/browser\",\r\n  \"skylark-utils-dom/eventer\",\r\n  \"skylark-utils-dom/noder\",\r\n  \"skylark-utils-dom/geom\",\r\n  \"skylark-utils-dom/query\",\r\n  \"./ui\",\r\n  \"./_Toggler\"\r\n],function(langx,browser,eventer,noder,geom,$,ui,_Toggler){\r\n\r\n  var Radio = ui.Radio = _Toggler.inherit({\r\n    klassName: \"Radio\",\r\n\r\n    pluginName : \"lark.radio\",\r\n\r\n    _parse : function() {\r\n      var $radio = this.$radio;\r\n\r\n      // get current state of input\r\n      var checked = $radio.prop('checked');\r\n      var disabled = $radio.prop('disabled');\r\n\r\n      this.state.set(\"checked\",checked);\r\n      this.state.set((\"disabled\",disabled));\r\n\r\n    },\r\n\r\n    _init : function() {\r\n      //this.options = langx.mixin({}, $.fn.checkbox.defaults, options);\r\n      var element = this.domNode;\r\n      var $element = $(element);\r\n\r\n      if (element.tagName.toLowerCase() !== 'label') {\r\n        logError('Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`');\r\n        return;\r\n      }\r\n\r\n      // cache elements\r\n      this.$label = $element;\r\n      this.$radio = this.$label.find('input[type=\"checkbox\"]');\r\n      this.$container = $element.parent('.checkbox'); // the container div\r\n\r\n      if (!this.options.ignoreVisibilityCheck && this.$radio.css('visibility').match(/hidden|collapse/)) {\r\n        logError('For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`\\'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.');\r\n      }\r\n\r\n      // determine if a toggle container is specified\r\n      var containerSelector = this.$radio.attr('data-toggle');\r\n      this.$toggleContainer = $(containerSelector);\r\n\r\n\r\n      // set default state\r\n      this.setInitialState();\r\n    },\r\n\r\n    _sync : function() {\r\n      // handle internal events\r\n      var self = this;\r\n      this.$radio.on('change', function(evt) {\r\n        //var $radio = $(evt.target);\r\n        var checked = self.$radio.prop('checked');\r\n        self.state.set(\"checked\",checked);\r\n      });\r\n    },\r\n\r\n    _refresh : function(updates) {\r\n\r\n        function setCheckedState (checked) {\r\n          var $radio = self.$radio;\r\n          var $lbl = self.$label;\r\n          var $containerToggle = self.$toggleContainer;\r\n\r\n          if (checked) {\r\n            // reset all items in group\r\n            this.resetGroup();\r\n\r\n            $radio.prop('checked', true);\r\n            $lbl.addClass('checked');\r\n            $containerToggle.removeClass('hide hidden');\r\n          } else {\r\n            $radio.prop('checked', false);\r\n            $lbl.removeClass('checked');\r\n            $containerToggle.addClass('hidden');\r\n          }\r\n        }\r\n\r\n        function setDisabledState (disabled) {\r\n          var $radio = self.$radio;\r\n          var $lbl = self.$label;\r\n\r\n          if (disabled) {\r\n            $radio.prop('disabled', true);\r\n            $lbl.addClass('disabled');\r\n          } else {\r\n            $radio.prop('disabled', false);\r\n            $lbl.removeClass('disabled');\r\n          }\r\n        }\r\n\r\n        // update visual with attribute values from control\r\n        this.overrided(changed);\r\n        var self  = this;\r\n\r\n        if (updates[\"checked\"]) {\r\n          setCheckedState(updates[\"checked\"].value);\r\n        }\r\n        if (updates[\"disabled\"]) {\r\n          setDisabledState(updates[\"disabled\"].value);\r\n        }\r\n    },\r\n\r\n    resetGroup: function resetGroup () {\r\n      var $radios = $('input[name=\"' + this.groupName + '\"]');\r\n      $radios.each(function resetRadio (index, item) {\r\n        var $radio = $(item);\r\n        var $lbl = $radio.parent();\r\n        var containerSelector = $radio.attr('data-toggle');\r\n        var $containerToggle = $(containerSelector);\r\n\r\n\r\n        $lbl.removeClass('checked');\r\n        $containerToggle.addClass('hidden');\r\n      });\r\n    }\r\n  });\r\n\r\n  return Radio;\r\n});\r\n\r\n"]}
/**
 * skylark-widgets-swt - The skylark widget framework and standard widgets
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-swt/
 * @license MIT
 */
!function(t,i){var n=i.define,s=i.require,o="function"==typeof n&&n.amd,a=!o&&"undefined"!=typeof exports;if(!o&&!n){var l={};n=i.define=function(e,t,i){"function"==typeof i?(l[e]={factory:i,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var i=t.split("/"),n=e.split("/");i.pop();for(var s=0;s<n.length;s++)"."!=n[s]&&(".."==n[s]?i.pop():i.push(n[s]));return i.join("/")}(t,e)}),resolved:!1,exports:null},s(e)):l[e]={factory:null,resolved:!0,exports:i}},s=i.require=function(e){if(!l.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var t=l[e];if(!t.resolved){var n=[];t.deps.forEach(function(e){n.push(s(e))}),t.exports=t.factory.apply(i,n)||null,t.resolved=!0}return t.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,i){t("skylark-widgets-swt/swt",["skylark-langx/skylark","skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query"],function(e,t,i,n,s,o,a){var l=e.ui=e.ui||{};sbswt=l.sbswt={};var r={BACKSPACE_KEYCODE:8,COMMA_KEYCODE:188,DELETE_KEYCODE:46,DOWN_ARROW_KEYCODE:40,ENTER_KEYCODE:13,TAB_KEYCODE:9,UP_ARROW_KEYCODE:38},d=function(e){return function(t){return t.keyCode===e}},c=d(r.BACKSPACE_KEYCODE),u=d(r.DELETE_KEYCODE),h=d(r.TAB_KEYCODE),p=d(r.UP_ARROW_KEYCODE),m=d(r.DOWN_ARROW_KEYCODE),f=/&[^\s]*;/;return t.mixin(l,{CONST:r,cleanInput:function(e){for(;f.test(e);)e=a("<i>").html(e).text();return a("<i>").text(e).html()},isBackspaceKey:c,isDeleteKey:u,isShiftHeld:function(e){return!0===e.shiftKey},isTabKey:h,isUpArrow:p,isDownArrow:m}),l}),t("skylark-widgets-swt/Widget",["skylark-widgets-base/Widget"],function(e){return e}),t("skylark-widgets-swt/Panel",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","skylark-bootstrap3/collapse","./swt","./Widget"],function(e,t,i,n,s,o,a,l,r){var d=r.inherit({klassName:"Panel",pluginName:"lark.panel",options:{toggler:{selector:'.panel-heading [data-toggle="collapse"]'},body:{selector:".panel-collapse"}},_init:function(){var e=this;this.$toggle=this._velm.find(this.options.toggler.selector),this.$body=this._velm.find(this.options.body.selector),this.$toggle.on("click.lark",function(t){var i=o(this),n=e.$body.collapse("instance");n?n.toggle():e.$body.collapse(i.data())})},expand:function(){this.$body.collapse("show")},collapse:function(){this.$body.collapse("hide")},toogle:function(){this.body.collapse("toogle")},full:function(){},unfull:function(){},toogleFull:function(){},close:function(){var e=this.dom(id);this.minimize(id,!0).promise().then(function(){e.fadeOut()})}});return d}),t("skylark-widgets-swt/Accordion",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","skylark-bootstrap3/collapse","./swt","./Widget","./Panel"],function(e,t,i,n,s,o,a,l,r,d){var c=r.inherit({klassName:"Accordion",pluginName:"lark.accordion",options:{panel:{selector:"> .panel",template:null}},_init:function(){var e=[];this._velm.$(this.options.panel.selector).forEach(function(t){var i=new c.Panel(t,{});e.push(i)}),this._panels=e},_post:function(){},_refresh:function(e){},panels:{get:function(){}},addPanel:function(){var e=$template.clone();e.find(".collapse").removeClass("in"),e.find(".accordion-toggle").attr("href","#"+ ++hash).text("Dynamic panel #"+hash),e.find(".panel-collapse").attr("id",hash).addClass("collapse").removeClass("in"),o("#accordion").append(e.fadeIn())},remove:function(){},expand:function(){},expandAll:function(){},collapse:function(){},collapseAll:function(){}});return c.Panel=d.inherit({klassName:"AccordionPanel",_init:function(){this.overrided()},expand:function(){o(this._elm).collapse("show")},collapse:function(){o(this._elm).collapse("hide")},toogle:function(){o(this._elm).collapse("toogle")},remove:function(){this.overided()}}),l.Accordion=c}),t("skylark-widgets-swt/Button",["skylark-langx/langx","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n){class s extends n{get klassName(){return"Button"}get pluginName(){return"lark.button"}get options(){return{btnSize:"lg",btnType:"default",leftIcon:null,rightIcon:null,topIcon:null,bottomIcon:null}}get state(){return{text:String}}_parse(i,n){var s=t(i),n=e.mixin({},n);if(n.btnType||(s.hasClass("btn-link")?n.btnType="link":s.hasClass("btn-default")?n.btnType="default":s.hasClass("btn-primary")?n.btnType="primary":s.hasClass("btn-info")?n.btnType="info":s.hasClass("btn-success")?n.btnType="success":s.hasClass("btn-warning")?n.btnType="warning":s.hasClass("btn-danger")&&(n.btnType="danger")),n.btnSize||(s.hasClass("btn-xs")?n.btnSize="xs":s.hasClass("btn-sm")?n.btnSize="sm":s.hasClass("btn-lg")&&(n.btnSize="lg")),n.href||(n.href=s.attr("href"),n.target=s.attr("target")),n.text||(n.text=s.find(".text").text()),!n.leftIcon){var o=s.find(".fa-icon-left");o.length>0&&(o.removeClass("fa-icon-left").removeClass("fa"),n.leftIcon=o.attr("class"),o.addClass("fa-icon-left").addClass("fa"))}if(!n.rightIcon){var a=s.find(".fa-icon-right");a.length>0&&(a.removeClass("fa-icon-right").removeClass("fa"),n.rightIcon=a.attr("class"),a.addClass("fa-icon-right").addClass("fa"))}}_refresh(e){super._refresh(e);var t=this._velm;e.btnType&&t.removeClass("btn-link btn-default btn-primary btn-info btn-success btn-warning btn-danger").addClass("btn-"+e.btnType.value),e.btnSize&&t.removeClass("btn-xs btn-sm btn-lg").addClass("btn-"+e.btnSize.value),e.text&&t.$(".text").text(e.text.value),e.left&&(t.$(".fa-icon-left").remove(),t.prepend('<i style="word-spacing: -1em;" class="fa fa-icon-left fa-'+e.iconleft.value+'">&nbsp;</i>\n')),e.iconright&&(t.$(".fa-icon-right").remove(),e.iconright.value&&t.append('<i style="word-spacing: -1em;" class="fa fa-icon-right fa-'+e.iconright.value+'">&nbsp;</i>\n'))}}return n.register(s),i.Button=s}),t("skylark-widgets-swt/Carousel",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/carousel"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"Carousel",pluginName:"lark.carousel",options:{items:[],indicatorTemplate:"",slideTemplate:"",templates:{container:'<div class="carousel slide" data-ride="carousel">/div',indicators:{container:'<ol class="carousel-indicators"></ol>',item:"<li></li>"},slides:{container:'<div class="carousel-inner">/div',item:'<div class="item carousel-item"><img alt="First slide"  src="{{url}}"></div>'}}},_init:function(){this._bs_carousel=this._velm.carousel(this.options);var e=this;this._velm.on("click.lark","[data-slide],[data-slide-to]",function(t){var i=o(this),n=i.attr("data-slide-to");if(n)e.to(n);else{var s=i.attr("data-slide");"prev"==s?e.prev():e.next()}t.preventDefault()})},to:function(e){return this._bs_carousel.to(e)},pause:function(e){return this._bs_carousel.pause(e),this},cycle:function(e){return this._bs_carousel.cycle(e)},next:function(){return this._bs_carousel.next()},prev:function(){return this._bs_carousel.prev()},add:function(){},createIndicator:function(e){var t,i,n=this.gallery,s=this.indicatorPrototype.cloneNode(!1),a=n.getItemTitle(e),l=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(l&&(t=Gallery.getItemProperty(e,l)),void 0===t&&(i=e.getElementsByTagName&&o(e).find("img")[0])&&(t=i.src),t&&(s.style.backgroundImage='url("'+t+'")')),a&&(s.title=a),s},addIndicator:function(e){if(this.indicatorContainer.length){var t=this.createIndicator(this.list[e]);t.setAttribute("data-slide-to",e),this.indicatorContainer[0].appendChild(t),this.indicators.push(t)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=o(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(e){e||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),this.overrided(e)},addSlide:function(e){this.overrided(e),this.addIndicator(e)},resetSlides:function(){this.overrided(),this.indicatorContainer.empty(),this.indicators=[]}});return a.Carousel=r}),t("skylark-widgets-swt/_Toggler",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n,s,o,a,l){var r=a._Toggler=l.inherit({klassName:"_Toggler",toggle:function(){var e=this.isChecked();e?this.uncheck():this.check()},check:function(){return this.state.set("checked",!0),this},uncheck:function(){return this.state.set("checked",!1),this},isChecked:function(){return this.state.get("checked")}});return r}),t("skylark-widgets-swt/CheckBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./_Toggler"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"CheckBox",pluginName:"lark.checkbox",options:{selectors:{chk:"input[type=checkbox]",lbl:"checkbox-label"},template:void 0,checked:void 0,label:void 0,value:void 0},_parse:function(e,t){t=this.overrided(e,t);var i=o(e),n=t.selectors&&t.selectors.chk,s=t.selectors&&t.selectors.lbl;n||(n=this.options.selectors.chk),s||(s=this.options.selectors.lbl);var a=i.find(n);i.find(s);return void 0==t.checked?t.checked=a.prop("checked"):a.prop("checked",t.checked),void 0==t.disabled?t.disabled=a.prop("disabled"):a.prop("disabled",t.disabled),t},_create:function(){},_init:function(){this._elm;this.$lbl=this._velm.$(this.options.selectors.lbl),this.$chk=this._velm.$(this.options.selectors.chk)},_startup:function(){var e=this;this.$chk.on("change",function(t){var i=e.$chk.prop("checked");e.state.set("checked",i)})},_refresh:function(e){this.overrided(changed);var t,i,n,s,o=this;e.checked&&(t=e.checked.value,i=o.$chk,n=o.$label,s=o.$toggleContainer,t?(i.prop("checked",!0),n.addClass("checked"),s.removeClass("hide hidden")):(i.prop("checked",!1),n.removeClass("checked"),s.addClass("hidden"))),e.disabled&&function(e){var t=o.$chk,i=o.$label;e?(t.prop("disabled",!0),i.addClass("disabled")):(t.prop("disabled",!1),i.removeClass("disabled"))}(e.disabled.value)}});return a.CheckBox=r}),t("skylark-widgets-swt/ComboBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/dropdown"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"ComboBox",pluginName:"lark.combobox",widgetClass:"lark-combobox",options:{autoResizeMenu:!0,filterOnKeypress:!1,showOptionsOnKeypress:!1,filter:function(e,t,i){var n=0;i.$dropMenu.find(".empty-indicator").remove(),e.each(function(e){var i=o(this),s=o(this).text().trim();i.removeClass(),s===t?(i.addClass("text-success"),n++):s.substr(0,t.length)===t?(i.addClass("text-info"),n++):i.addClass("hidden")}),0===n&&i.$dropMenu.append('<li class="empty-indicator text-muted"><em>No Matches</em></li>')}},_init:function(){this.$element=o(this._elm),this.$dropMenu=this.$element.find(".dropdown-menu"),this.$input=this.$element.find("input"),this.$button=this.$element.find(".btn"),this.$button.dropdown(),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$element.on("click.lark","a",e.proxy(this.itemclicked,this)),this.$element.on("change.lark","input",e.proxy(this.inputchanged,this)),this.$element.on("shown.bs.dropdown",e.proxy(this.menuShown,this)),this.$input.on("keyup.lark",e.proxy(this.keypress,this)),this.setDefaultSelection();var t=this.$dropMenu.children("li");0===t.length&&this.$button.addClass("disabled"),this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)},_destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){o(this).attr("value",o(this).val())}),this.$element[0].outerHTML},doSelect:function(e){void 0!==e[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=e,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null,this.$input.val(""),this.$dropMenu.find("li").removeClass("selected")},menuShown:function(){this.options.autoResizeMenu&&this.resizeMenu()},resizeMenu:function(){var e=this.$element.outerWidth();this.$dropMenu.outerWidth(e)},selectedItem:function(){var t=this.$selectedItem,i={};if(t){var n=this.$selectedItem.text().trim();i=e.mixin({text:n},this.$selectedItem.data())}else i={text:this.$input.val().trim(),notFound:!0};return i},selectByText:function(e){var t=o([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||o(this).text()||"").trim().toLowerCase()===(e||"").trim().toLowerCase())return t=o(this),!1}),this.doSelect(t)},selectByValue:function(e){var t='li[data-value="'+e+'"]';this.selectBySelector(t)},selectByIndex:function(e){var t="li:eq("+e+")";this.selectBySelector(t)},selectBySelector:function(e){var t=this.$element.find(e);this.doSelect(t)},setDefaultSelection:function(){var e="li[data-selected=true]:first",t=this.$element.find(e);t.length>0&&(this.selectBySelector(e),t.removeData("selected"),t.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled",!0),this.$button.addClass("disabled")},itemclicked:function(e){this.$selectedItem=o(e.target).parent(),this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var t=this.selectedItem();this.$element.trigger("changed.lark",t),e.preventDefault(),this.$element.find(".dropdown-toggle").focus()},keypress:function(e){var t=38===e.which||40===e.which||37===e.which||39===e.which;if(this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus()),13===e.which){e.preventDefault();var i=this.$dropMenu.find("li.selected").text().trim();i.length>0?this.selectByText(i):this.selectByText(this.$input.val()),this.$inputGroupBtn.removeClass("open")}else if(27===e.which)e.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open");else if(this.options.showOptionsOnKeypress&&(40===e.which||38===e.which)){e.preventDefault();var n=this.$dropMenu.find("li.selected");n.length>0&&(n=40===e.which?n.next(":not(.hidden)"):n.prev(":not(.hidden)")),0===n.length&&(n=40===e.which?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(n)}this.options.filterOnKeypress&&!t&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this),this.previousKeyPress=e.which},inputchanged:function(e,t){var i=o(e.target).val();if(t&&t.synthetic)this.selectByText(i);else{this.selectByText(i);var n=this.selectedItem();0===n.text.length&&(n={text:i}),this.$element.trigger("changed.lark",n)}}});return r.prototype.getValue=r.prototype.selectedItem,a.ComboBox=r}),t("skylark-widgets-swt/TextBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(t,i,n,s,o,a,l,r){var d=l.TextBox=r.inherit({klassName:"TextBox",pluginName:"lark.textbox",_parse:function(){var e=this._velm;this.options.multiline=e.is("textarea");var t=$chk.prop("checked"),i=$chk.prop("disabled");this.state.set("value",t),this.state.set(i)},_create:function(){var e="input",i={},n=this.options;t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){i[e]=n[e]}),n.multiline&&(e="textarea"),n.subtype&&(i.type=n.subtype),this._elm=this._dom.noder.createElement(e,i)},_init:function(){},_sync:function(){var e=this;this._velm.on("change",function(t){var i=e._velm.prop("value");e.state.set("value",i)})},_refresh:function(t){void 0!==t.value&&this._velm.value()!==e.value&&this._velm.value(t.value),void 0!==t.disabled&&this._velm.disable(t.disabled),this.overrided(changed)}});return d}),t("skylark-widgets-swt/ListGroup",["skylark-langx/langx","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n){var s=n.inherit({klassName:"ListGroup",pluginName:"lark.listgroup",options:{multiSelect:!1,multiTier:!1,toggle:!1,classes:{active:"active"},selectors:{item:".list-group-item"},selected:0},state:{selected:Object},_init:function(){this.overrided();var e=this,i=this._velm,n=this.options.selectors.item;this._$items=i.$(n),i.on("click",n,function(){var t=e._elmx(this);if(!t.hasClass("disabled")){var i=t.data("value");void 0===i&&(i=e._$items.index(this)),e.state.set("selected",i)}return!1}),this.state.set("selected",this.options.selected);var s=i,o=this.options.toggle,a=this;s.query("li.active").has("ul").children("ul").addClass("collapse in"),s.query("li").not(".active").has("ul").children("ul").addClass("collapse"),a.options.doubleTapToGo&&s.query("li.active").has("ul").children("a").addClass("doubleTapToGo"),s.query("li").has("ul").children("a").on("click."+this.pluginName,function(e){if(e.preventDefault(),a.options.doubleTapToGo&&a.doubleTapToGo(t(this))&&"#"!==t(this).attr("href")&&""!==t(this).attr("href"))return e.stopPropagation(),void(document.location=t(this).attr("href"));t(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),o&&t(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")})},_refresh:function(t){this.overrided(t);var i=this;function n(t){return e.isNumber(t)?i._$items.eq(t):i._$items.filter('[data-value="'+t+'"]')}t.selected&&(this.options.multiSelect||(n(t.selected.oldValue).removeClass(i.options.classes.active),function(e){n(e).addClass(i.options.classes.active)}(t.selected.value)))}});return s}),t("skylark-widgets-swt/Menu",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n,s,o,a,l){var r,d=null,c=a.Menu=l.inherit({klassName:"Menu",pluginName:"lark.menu",init:function(t,i){i||(i=t,t=null);var s,a=this;this._options=e.mixin({hide_onmouseleave:0,icons:!0},i);var l=!1;(s=this.$el=o(t||"<ul class='vakata-context'></ul>")).on("mouseenter","li",function(e){e.stopImmediatePropagation(),n.contains(this,e.relatedTarget)||(l&&clearTimeout(l),s.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),o(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),a._show_submenu(this))}).on("mouseleave","li",function(e){n.contains(this,e.relatedTarget)||o(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(e){o(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),a._options.hide_onmouseleave&&(l=setTimeout(function(){a.hide()},a._options.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),o(this).blur().parent().hasClass("vakata-context-disabled")||!1===a._execute(o(this).attr("rel"))||a.hide()}).on("keydown","a",function(e){var t=null;switch(e.which){case 13:case 32:e.type="click",e.preventDefault(),o(e.currentTarget).trigger(e);break;case 37:a.$el.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 38:(t=a.$el.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(t=a.$el.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 39:a.$el.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 40:(t=a.$el.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(t=a.$el.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault();break;case 27:a.hide(),e.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=a.$el.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),this.render()},render:function(){var e=this._options.items;this._parse(e)&&this.$el.html(this.html),this.$el.width("")},_trigger:function(e){o(document).trigger("context_"+e+".sbswt",{reference:this.reference,element:this.$el,position:{x:this.position_x,y:this.position_y}})},_execute:function(t){return!(!(t=this.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:this.reference,element:this.$el}))||!t.action)&&t.action.call(null,{item:t,reference:this.reference,element:this.$el,position:{x:this.position_x,y:this.position_y}})},_parse:function(t,i){var n=this,s=n._options.reference;if(!t)return!1;i||(n.html="",n.items=[]);var o,a="",l=!1;return i&&(a+="<ul>"),e.each(t,function(t,i){if(!i)return!0;n.items.push(i),!l&&i.separator_before&&(a+="<li class='vakata-context-separator'><a href='#' "+(n._options.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),l=!1,a+="<li class='"+(i._class||"")+(!0===i._disabled||e.isFunction(i._disabled)&&i._disabled({item:i,reference:s,element:n.$el})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",a+="<a href='#' rel='"+(n.items.length-1)+"' "+(i.title?"title='"+i.title+"'":"")+">",n._options.icons&&(a+="<i ",i.icon&&(-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?a+=" style='background:url(\""+i.icon+"\") center center no-repeat' ":a+=" class='"+i.icon+"' "),a+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),a+=(e.isFunction(i.label)?i.label({item:t,reference:s,element:n.$el}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(o=n._parse(i.submenu,!0))&&(a+=o),a+="</li>",i.separator_after&&(a+="<li class='vakata-context-separator'><a href='#' "+(n._options.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",l=!0)}),a=a.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(a+="</ul>"),i||(n.html=a,n._trigger("parse")),a.length>10&&a},_show_submenu:function(e){if((e=o(e)).length&&e.children("ul").length){var t=e.children("ul"),i=e.offset().left,n=i+e.outerWidth(),s=e.offset().top,a=t.width(),l=t.height(),d=o(window).width()+o(window).scrollLeft(),c=o(window).height()+o(window).scrollTop();r?e[n-(a+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[n+a>d&&i>d-n?"addClass":"removeClass"]("vakata-context-right"),s+l+10>c&&t.css("bottom","-1px"),e.hasClass("vakata-context-right")?i<a&&t.css("margin-right",i-a):d-n<a&&t.css("margin-left",d-n-a),t.show()}},show:function(e,t,i){var n,s,a,l,c,u,h,p;switch(!0){case!t&&!e:return!1;case!!t&&!!e:this.reference=e,this.position_x=t.x,this.position_y=t.y;break;case!t&&!!e:this.reference=e,n=e.offset(),this.position_x=n.left+e.outerHeight(),this.position_y=n.top;break;case!!t&&!e:this.position_x=t.x,this.position_y=t.y}e&&!i&&o(e).data("vakata_contextmenu")&&(i=o(e).data("vakata_contextmenu")),this.items.length&&(this.$el.appendTo(document.body),s=this.$el,a=this.position_x,l=this.position_y,c=s.width(),u=s.height(),h=o(window).width()+o(window).scrollLeft(),p=o(window).height()+o(window).scrollTop(),r&&(a-=s.outerWidth()-o(e).outerWidth())<o(window).scrollLeft()+20&&(a=o(window).scrollLeft()+20),a+c+20>h&&(a=h-(c+20)),l+u+20>p&&(l=p-(u+20)),this.$el.css({left:a,top:l}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),this.is_visible=!0,d=this,this._trigger("show"))},hide:function(){this.is_visible&&(this.$el.hide().find("ul").hide().end().find(":focus").blur().end().detach(),this.is_visible=!1,d=null,this._trigger("hide"))}});return o(function(){r="rtl"===o(document.body).css("direction"),o(document).on("mousedown.sbswt.popup",function(e){d&&d.$el[0]!==e.target&&!n.contains(d.$el[0],e.target)&&d.hide()}).on("context_show.sbswt.popup",function(e,t){d.$el.find("li:has(ul)").children("a").addClass("vakata-context-parent"),r&&d.$el.addClass("vakata-context-rtl").css("direction","rtl"),d.$el.find("ul").hide().end()})}),c.popup=function(e,t,i){var n=new c({reference:e,items:i});n.show(e,t)},c.hide=function(){d&&d.hide()},c}),t("skylark-widgets-swt/Pagination",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n,s,o,a,l){"use strict";var r=a.Pagination=l.inherit({klassName:"Pagination",pluginName:"lark.pagination",options:{tagName:"ul",css:"",selectors:{firstNavi:"li[aria-label='first']",prevNavi:"li[aria-label='prev']",nextNavi:"li[aria-label='next']",lastNavi:"li[aria-label='last']",numericNavi:"li:not([aria-label])",numericTxt:"a"},totalPages:7,maxButtonsVisible:5,currentPage:1},state:{totalPages:Number,currentPage:Number},_parse:function(e,t){},_create:function(e){},_init:function(){this.$first=this._velm.$(this.options.selectors.firstNavi),this.$prev=this._velm.$(this.options.selectors.prevNavi),this.$last=this._velm.$(this.options.selectors.lastNavi),this.$next=this._velm.$(this.options.selectors.nextNavi),this.$numeric=this._velm.$(this.options.selectors.numericNavi);var e=this;function t(e){var t=o(e);return!t.is(".disabled,.active")&&t}this.$first.click(function(){t(this)&&e.currentPage(1)}),this.$prev.click(function(){t(this)&&e.currentPage(e.currentPage()-1)}),this.$last.click(function(){t(this)&&e.currentPage(e.totalPages())}),this.$next.click(function(){t(this)&&e.currentPage(e.currentPage()+1)}),this.$numeric.click(function(){var i=t(this);if(i){var n=i.find(e.options.selectors.numericTxt).text(),s=parseInt(n);e.currentPage(s)}}),this.state.set("currentPage",this.options.currentPage),this.state.set("totalPages",this.options.totalPages),this.overrided()},_refresh:function(e){this.overrided(e);var t=this;if(e.currentPage||e.totalPages){var i=t.currentPage(),n=t.totalPages();!function(e,i){var n=Math.min(i,t.options.maxButtonsVisible),s=1,o=s+n-1;for(;e<s||e>o;)e>o?(s+=n,(o+=n)>i&&(s-=o-i,o=i)):(o-=n,(s-=n)<0&&(o+=s+n,s=1));e===o&&1!=i&&(o=(s=e-1)+n-1)>=i&&(s-=o-i,o=i);s===e&&1!=i&&1!=e&&(s=(o=e+1)-(n-1));var a=t.$numeric.size(),l=o-s+1,r=0;t.$numeric.filter(".active").removeClass("active");for(;r<l;){var d=r+s,c=t.$numeric.eq(r);c.find(t.options.selectors.numericTxt).text(r+s).show(),d==e&&c.addClass("active"),r++}for(;r<a;)t.$numeric.eq(r).find(t.options.selectors.numericTxt).text(r+s).hide(),r++}(i,n),function(e,i){if(e<1)throw"Page can't be less than 1";if(e>i)throw"Page is bigger than total pages";if(i<1)throw"Total Pages can't be less than 1";1==e?(t.$first.addClass("disabled"),t.$prev.addClass("disabled")):(t.$first.removeClass("disabled"),t.$prev.removeClass("disabled"));e==i?(t.$last.addClass("disabled"),t.$next.addClass("disabled")):(t.$last.removeClass("disabled"),t.$next.removeClass("disabled"))}(i,n)}}});return r}),t("skylark-widgets-swt/Progress",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n,s,o,a,l){"use strict";var r=a.Progress=l.inherit({klassName:"Progress",pluginName:"lark.progress",options:{selectors:{bar:"progress-bar"},min:0,max:100},state:{value:Number},_init:function(){this._vbar=this._velm.find(this.options.selectors.bar),this.value(this.options.min)},_refresh:function(){this.overrided(changed);if(void 0!==updates.value){var e=updates.value,t=this.options.min,i=this.options.max;this._vbar.css("width",(e-t)/(i-t)*100+"%")}},start:function(e){this.value(this.options.min),this._velm.slideDown()},increase:function(e){var t=this.value();this.value(t+=1*e)},finish:function(){this.value(this.options.min),this._velm.slideUp()}});return r}),t("skylark-widgets-swt/Radio",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./_Toggler"],function(e,t,i,n,s,o,a,l){var r=a.Radio=l.inherit({klassName:"Radio",pluginName:"lark.radio",_parse:function(){var e=this.$radio,t=e.prop("checked"),i=e.prop("disabled");this.state.set("checked",t),this.state.set(i)},_init:function(){var e=this.domNode,t=o(e);if("label"===e.tagName.toLowerCase()){this.$label=t,this.$radio=this.$label.find('input[type="checkbox"]'),this.$container=t.parent(".checkbox"),!this.options.ignoreVisibilityCheck&&this.$radio.css("visibility").match(/hidden|collapse/)&&logError("For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.");var i=this.$radio.attr("data-toggle");this.$toggleContainer=o(i),this.setInitialState()}else logError("Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`")},_sync:function(){var e=this;this.$radio.on("change",function(t){var i=e.$radio.prop("checked");e.state.set("checked",i)})},_refresh:function(e){this.overrided(changed);var t,i,n,s=this;e.checked&&function(e){var t=s.$radio,i=s.$label,n=s.$toggleContainer;e?(this.resetGroup(),t.prop("checked",!0),i.addClass("checked"),n.removeClass("hide hidden")):(t.prop("checked",!1),i.removeClass("checked"),n.addClass("hidden"))}(e.checked.value),e.disabled&&(t=e.disabled.value,i=s.$radio,n=s.$label,t?(i.prop("disabled",!0),n.addClass("disabled")):(i.prop("disabled",!1),n.removeClass("disabled")))},resetGroup:function(){var e=o('input[name="'+this.groupName+'"]');e.each(function(e,t){var i=o(t),n=i.parent(),s=i.attr("data-toggle"),a=o(s);n.removeClass("checked"),a.addClass("hidden")})}});return r}),t("skylark-widgets-swt/SearchBox",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/dropdown"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"SearchBox",pluginName:"lark.searchbox",options:{clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1},_init:function(){this.$element=o(this._elm),this.$repeater=this.$element.closest(".repeater"),"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0),this.$button=this.$element.find("button"),this.$input=this.$element.find("input"),this.$icon=this.$element.find(".glyphicon, .fuelux-icon"),this.$button.on("click.fu.search",e.proxy(this.buttonclicked,this)),this.$input.on("keyup.fu.search",e.proxy(this.keypress,this)),this.$repeater.length>0&&this.$repeater.on("rendered.fu.repeater",e.proxy(this.clearPending,this)),this.activeSearch=""},destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){o(this).attr("value",o(this).val())}),this.$element[0].outerHTML},search:function(e){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove"),this.activeSearch=e,this.$element.addClass("searched pending"),this.$element.trigger("searched.fu.search",e)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search"),this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search"),this.activeSearch="",this.$input.val(""),this.$element.trigger("cleared.fu.search"),this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},action:function(){var e=this.$input.val();e&&e.length>0?this.search(e):this.clear()},buttonclicked:function(e){e.preventDefault(),o(e.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(e){13===e.which?(e.preventDefault(),this.action()):9===e.which?e.preventDefault():27===e.which?(e.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled","disabled"),this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")}});return a.SearchBox=r}),t("skylark-widgets-swt/SelectList",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/dropdown"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"SelectList",pluginName:"lark.selectlist",options:{emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'},_init:function(){this.$element=o(this._elm),this.$button=this.$element.find(".btn.dropdown-toggle"),this.$hiddenField=this.$element.find(".hidden-field"),this.$label=this.$element.find(".selected-label"),this.$dropdownMenu=this.$element.find(".dropdown-menu"),this.$button.dropdown(),this.$element.on("click.fu.selectlist",".dropdown-menu a",e.proxy(this.itemClicked,this)),this.setDefaultSelection(),"auto"!==this.options.resize&&"auto"!==this.$element.attr("data-resize")||this.resize();var t=this.$dropdownMenu.children("li");0===t.length&&(this.disable(),this.doSelect(o(this.options.emptyLabelHTML))),this.$element.on("shown.bs.dropdown",function(){var e=o(this);o(document).on("keypress.fu.selectlist",function(t){var i=String.fromCharCode(t.which);e.find("li").each(function(e,t){if(o(t).text().charAt(0).toLowerCase()===i)return o(t).children("a").focus(),!1})})}),this.$element.on("hide.bs.dropdown",function(){o(document).off("keypress.fu.selectlist")})},destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},doSelect:function(e){var t;this.$selectedItem=t=e,this.$hiddenField.val(this.$selectedItem.attr("data-value")),this.$label.html(o(this.$selectedItem.children()[0]).html()),this.$element.find("li").each(function(){t.is(o(this))?o(this).attr("data-selected",!0):o(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(e){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem),e.preventDefault(),o(e.currentTarget).parent("li").is(".disabled, :disabled")||(o(e.target).parent().is(this.$selectedItem)||this.itemChanged(e),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(e){this.doSelect(o(e.target).closest("li"));var t=this.selectedItem();this.$element.trigger("changed.fu.selectlist",t)},resize:function(){var e=0,t=0,i=o("<div/>").addClass("selectlist-sizer");Boolean(o(document).find("html").hasClass("fuelux"))?o(document.body).append(i):o(".fuelux:first").append(i),i.append(this.$element.clone()),this.$element.find("a").each(function(){i.find(".selected-label").text(o(this).text()),t=i.find(".selectlist").outerWidth(),(t+=i.find(".sr-only").outerWidth())>e&&(e=t)}),e<=1||(this.$button.css("width",e),this.$dropdownMenu.css("width",e),i.remove())},selectedItem:function(){var t=this.$selectedItem.text();return e.mixin({text:t},this.$selectedItem.data())},selectByText:function(e){var t=o([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||o(this).text()||"").toLowerCase()===(e||"").toLowerCase())return t=o(this),!1}),this.doSelect(t)},selectByValue:function(e){var t='li[data-value="'+e+'"]';this.selectBySelector(t)},selectByIndex:function(e){var t="li:eq("+e+")";this.selectBySelector(t)},selectBySelector:function(e){var t=this.$element.find(e);this.doSelect(t)},setDefaultSelection:function(){var e=this.$element.find("li[data-selected=true]").eq(0);0===e.length&&(e=this.$element.find("li").has("a").eq(0)),this.doSelect(e)},enable:function(){this.$element.removeClass("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$button.addClass("disabled")}});return r.prototype.getValue=r.prototype.selectedItem,a.SelectList=r}),t("skylark-widgets-swt/Tabular",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"Tabular",pluginName:"lark.tabular",options:{buttonClasses:{append:null,removeLast:null,insert:null,remove:null,moveUp:null,moveDown:null,rowDrag:null},sectionClasses:{caption:null,header:null,body:null,subPanel:null,footer:null},hideButtons:{append:!1,removeLast:!1,insert:!1,remove:!1,moveUp:!1,moveDown:!1}},_showEmptyMessage:function(e,t){var i=this._tbWrap,n=o("<td></td>").text(e._i18n.rowEmpty).attr("colspan",e._finalColSpan);o("table.body tbody",i).append(o("<tr></tr>").addClass("empty").append(n)),!t&&e.maxBodyHeight>0&&(e.autoColumnWidth?this._calculateColumnWidth():n.width(o("table.head",i).width()-4))},_calculateColumnWidth:function(){var e=this._tbWrap,t=o("table.body",e),i=o("div.scroller",e),n=t.data("appendGrid"),s=o("table.head tr.columnHead",e)[0],a=o("table.body colgroup",e)[0];if(n._rowOrder.length>0){o("td",s).width("auto"),o("col",a).width("auto"),t.width("auto"),i.width("auto");var l=o("tbody tr",t)[0],r=-2;o.fn.modal&&(r=1);for(var d=Math.min(s.childNodes.length,l.childNodes.length),c=0;c<d;c++){var u=s.childNodes[c].clientWidth+1,h=l.childNodes[c].clientWidth+r;h>u?s.childNodes[c].style.width=h+"px":a.childNodes[c].style.width=u+"px"}}else o("table.body,table.foot",e).width(o("table.head").width());o("table.foot",e).width(t.width()),i.width(t.width()+i[0].offsetWidth-i[0].clientWidth+1)},_createGridButton:function(t,i){var n=null;return t&&(e.isFunction(t)?n=o(t()):t.nodeType?n=o(t).clone():(t.icon||t.label)&&(n=o("<button/>").attr({type:"button"})).plugin("lark.button",t)),n||(n=o("<button/>").attr({type:"button"})).plugin("lark.button",{icon:i,showLabel:!1}),n},_sortSequence:function(e){var t=this._elm,i=o(t).data("appendGrid");if(!i.hideRowNumColumn)for(var n=e;n<i._rowOrder.length;n++)o("#"+i.idPrefix+"_Row_"+i._rowOrder[n]+" td.first",t).text(n+1)},_emptyGrid:function(){var e=this._elm,t=o(e).data("appendGrid");o("tbody",e).empty(),t._rowOrder.length=0,t._uniqueIndex=0,this._saveSetting(t),this._showEmptyMessage(t)},_gridRowDragged:function(t,i,n){for(var s=this._elm,a=o(s).data("appendGrid"),l=-1,r=0;r<a._rowOrder.length;r++)if(a._rowOrder[r]==i){t?(l=n,a._rowOrder.splice(r,1),a._rowOrder.splice(n,0,i)):(l=r,a._rowOrder.splice(n+1,0,i),a._rowOrder.splice(r,1));break}this._sortSequence(l),this._saveSetting(a),e.isFunction(a.afterRowDragged)&&a.afterRowDragged(s,n,i)},_saveSetting:function(e){var t=this._elm;o(t).data("appendGrid",e),o("#"+e.idPrefix+"_rowOrder",t).val(e._rowOrder.join())},_checkGridAndGetSettings:function(e){var t=null,i=o(this._elm);return 1==i.length?(t=i.data("appendGrid"))||e||alert(h.notInit):e||alert(h.getValueMultiGrid),t},_insertRow:function(t,i,n){var s,a,l,r,d=this,c=this._elm,u=o(c).data("appendGrid"),h=[],p=null,m=[],f=(c.getElementsByTagName("thead")[0],c.getElementsByTagName("tbody")[0]),v=null,g=!1,b=!1,y=0,x=0;u.maxBodyHeight>0&&o("#"+u._wrapperId+" table thead")[0];var _=t,$=!1;if(e.isArray(t)&&(_=t.length,$=!0),e.isNumeric(n)){for(var S=0;S<u._rowOrder.length;S++)if(u._rowOrder[S]==n){i=S,0!=S&&(p=S-1);break}}else e.isNumeric(i)?i>=u._rowOrder.length?i=null:p=i-1:0!=u._rowOrder.length&&(i=null,p=u._rowOrder.length-1);u.maintainScroll&&!e.isNumeric(i)&&(y=o(c).height(),x=o(c).scrollParent().scrollTop()),0==u._rowOrder.length&&(o("tr.empty",c).remove(),b=!0);for(var S=0;S<_;S++){if(0<u.maxRowsAllowed&&u._rowOrder.length>=u.maxRowsAllowed){g=!0;break}u._uniqueIndex++,s=u._uniqueIndex,m.length=0,e.isNumeric(i)?(u._rowOrder.splice(i,0,s),u.useSubPanel?(f.insertBefore(v=document.createElement("tr"),f.childNodes[2*i]),f.insertBefore(l=document.createElement("tr"),f.childNodes[2*i])):f.insertBefore(l=document.createElement("tr"),f.childNodes[i]),h.push(i)):(u._rowOrder.push(s),f.appendChild(l=document.createElement("tr")),u.useSubPanel&&f.appendChild(v=document.createElement("tr")),h.push(u._rowOrder.length-1)),l.id=u.idPrefix+"_Row_"+s,u._sectionClasses.body&&(l.className=u._sectionClasses.body),o(l).data("appendGrid",s),null!=v&&(v.id=u.idPrefix+"_SubRow_"+s,o(v).data("appendGrid",s),u._sectionClasses.subPanel&&(v.className=u._sectionClasses.subPanel)),u.hideRowNumColumn||(l.appendChild(r=document.createElement("td")),o(r).addClass("ui-widget-content first").text(u._rowOrder.length),u.useSubPanel&&(r.rowSpan=2));for(var N=0;N<u.columns.length;N++)if("hidden"!=u.columns[N].type){var O="ui-widget-content";u.columns[N].invisible&&(O+=" invisible"),l.appendChild(r=document.createElement("td")),r.id=u.idPrefix+"_"+u.columns[N].name+"_td_"+s,r.className=O,null!=u.columns[N].cellCss&&o(r).css(u.columns[N].cellCss);var I,B=u.idPrefix+"_"+u.columns[N].name+"_"+s;if(I=e.isFunction(u.nameFormatter)?u.nameFormatter(u.idPrefix,u.columns[N].name,s):B,a=null,"custom"==u.columns[N].type)e.isFunction(u.columns[N].customBuilder)&&(a=u.columns[N].customBuilder(r,u.idPrefix,u.columns[N].name,s));else if("select"==u.columns[N].type||"ui-selectmenu"==u.columns[N].type){if((a=document.createElement("select")).id=B,a.name=I,e.isArray(u.columns[N].ctrlOptions)){if(u.columns[N].ctrlOptions.length>0)if(e.isPlainObject(u.columns[N].ctrlOptions[0]))for(var E=null,P=null,R=0;R<u.columns[N].ctrlOptions.length;R++){w(u.columns[N].ctrlOptions[R].group)?P=null:E!=u.columns[N].ctrlOptions[R].group&&(E=u.columns[N].ctrlOptions[R].group,(P=document.createElement("optgroup")).label=E,a.appendChild(P));var T=o("<option/>").val(u.columns[N].ctrlOptions[R].value).text(u.columns[N].ctrlOptions[R].label);w(u.columns[N].ctrlOptions[R].title)||T.attr("title",u.columns[N].ctrlOptions[R].title),null==P?T.appendTo(a):T.appendTo(P)}else for(var R=0;R<u.columns[N].ctrlOptions.length;R++)a.options[a.options.length]=new Option(u.columns[N].ctrlOptions[R],u.columns[N].ctrlOptions[R])}else if(e.isPlainObject(u.columns[N].ctrlOptions))for(var R in u.columns[N].ctrlOptions)a.options[a.options.length]=new Option(u.columns[N].ctrlOptions[R],R);else if("string"==typeof u.columns[N].ctrlOptions)for(var D=u.columns[N].ctrlOptions.split(";"),R=0;R<D.length;R++){var G=D[R].indexOf(":");a.options[a.options.length]=-1==G?new Option(D[R],D[R]):new Option(D[R].substring(G+1,D[R].length),D[R].substring(0,G))}else e.isFunction(u.columns[N].ctrlOptions)&&u.columns[N].ctrlOptions(a);r.appendChild(a),"ui-selectmenu"==u.columns[N].type&&o(a).selectmenu(u.columns[N].uiOption)}else if("checkbox"==u.columns[N].type)(a=document.createElement("input")).type="checkbox",a.id=B,a.name=I,a.value=1,r.appendChild(a),r.style.textAlign="center";else if("textarea"==u.columns[N].type)(a=document.createElement("textarea")).id=B,a.name=I,r.appendChild(a);else if(-1!=u.columns[N].type.search(/^(color|date|datetime|datetime\-local|email|month|number|range|search|tel|time|url|week)$/)){a=document.createElement("input");try{a.type=u.columns[N].type}catch(e){}a.id=B,a.name=I,r.appendChild(a)}else(a=document.createElement("input")).type="text",a.id=B,a.name=I,r.appendChild(a),"ui-datepicker"==u.columns[N].type?o(a).datepicker(u.columns[N].uiOption):"ui-spinner"==u.columns[N].type?o(a).spinner(u.columns[N].uiOption):"ui-autocomplete"==u.columns[N].type&&o(a).autocomplete(u.columns[N].uiOption);"custom"!=u.columns[N].type&&(null!=u.columns[N].ctrlAttr&&o(a).attr(u.columns[N].ctrlAttr),null!=u.columns[N].ctrlProp&&o(a).prop(u.columns[N].ctrlProp),null!=u.columns[N].ctrlCss&&o(a).css(u.columns[N].ctrlCss),null!=u.columns[N].ctrlClass&&o(a).addClass(u.columns[N].ctrlClass),u.columns[N].uiTooltip&&o(a).tooltip(u.columns[N].uiTooltip),e.isFunction(u.columns[N].onClick)&&o(a).click({caller:c,callback:u.columns[N].onClick,uniqueIndex:s},function(e){e.data.callback(e,o(e.data.caller).appendGrid("getRowIndex",e.data.uniqueIndex))}),e.isFunction(u.columns[N].onChange)&&o(a).change({caller:c,callback:u.columns[N].onChange,uniqueIndex:s},function(e){e.data.callback(e,o(e.data.caller).plugin("lark.tabular").getRowIndex(e.data.uniqueIndex))})),$?C(u,N,s,t[S][u.columns[N].name]):w(u.columns[N].value)||C(u,N,s,u.columns[N].value)}else m.push(N);if(!u._hideLastColumn||u.columns.length>u._visibleCount){if(u.rowButtonsInFront?u.hideRowNumColumn?l.insertBefore(r=document.createElement("td"),l.firstChild):l.insertBefore(r=document.createElement("td"),l.childNodes[1]):l.appendChild(r=document.createElement("td")),r.className="ui-widget-content last",r.id=u.idPrefix+"_last_td_"+s,u._hideLastColumn&&(r.style.display="none"),!u.hideButtons.insert){var A=this._createGridButton(u.customGridButtons.insert,"ui-icon-arrowreturnthick-1-w").attr({id:u.idPrefix+"_Insert_"+s,title:u._i18n.insert,tabindex:-1}).addClass("insert").data("appendGrid",{uniqueIndex:s}).click(function(e){var t=o(this).data("appendGrid").uniqueIndex;return o(c).plugin("lark.tabular").insertRow(1,null,t),e&&e.preventDefault&&e.preventDefault(u._buttonClasses.insert),!1}).appendTo(r);w(u._buttonClasses.insert)||A.addClass(u._buttonClasses.insert)}if(!u.hideButtons.remove){var A=this._createGridButton(u.customGridButtons.remove,"ui-icon-trash").attr({id:u.idPrefix+"_Delete_"+s,title:u._i18n.remove,tabindex:-1}).addClass("remove").data("appendGrid",{uniqueIndex:s}).click(function(e){var t=o(this).data("appendGrid").uniqueIndex;return d._removeRow(null,t,!1),e&&e.preventDefault&&e.preventDefault(),!1}).appendTo(r);w(u._buttonClasses.remove)||A.addClass(u._buttonClasses.remove)}if(!u.hideButtons.moveUp){var A=this._createGridButton(u.customGridButtons.moveUp,"ui-icon-arrowthick-1-n").attr({id:u.idPrefix+"_MoveUp_"+s,title:u._i18n.moveUp,tabindex:-1}).addClass("moveUp").data("appendGrid",{uniqueIndex:s}).click(function(e){var t=o(this).data("appendGrid").uniqueIndex;return o(c).plugin("lark.tabular").moveUpRow(null,t),e&&e.preventDefault&&e.preventDefault(),!1}).appendTo(r);w(u._buttonClasses.moveUp)||A.addClass(u._buttonClasses.moveUp)}if(!u.hideButtons.moveDown){var A=this._createGridButton(u.customGridButtons.moveDown,"ui-icon-arrowthick-1-s").attr({id:u.idPrefix+"_MoveDown_"+s,title:u._i18n.moveDown,tabindex:-1}).addClass("moveDown").data("appendGrid",{uniqueIndex:s}).click(function(e){var t=o(this).data("appendGrid").uniqueIndex;return o(c).plugin("lark.tabular").moveDownRow(null,t),e&&e.preventDefault&&e.preventDefault(),!1}).appendTo(r);w(u._buttonClasses.moveDown)||A.addClass(u._buttonClasses.moveDown)}if(u.rowDragging){var A=o("<div/>").addClass("rowDrag ui-state-default ui-corner-all").attr("title",u._i18n.rowDrag).append(o("<div/>").addClass("ui-icon ui-icon-caret-2-n-s").append(o("<span/>").addClass("ui-button-text").text("Drag"))).appendTo(r);w(u._buttonClasses.rowDrag)||A.addClass(u._buttonClasses.rowDrag)}for(var N=0;N<m.length;N++)(a=document.createElement("input")).id=u.idPrefix+"_"+u.columns[m[N]].name+"_"+s,e.isFunction(u.nameFormatter)?a.name=u.nameFormatter(u.idPrefix,u.columns[N].name,s):a.name=a.id,a.type="hidden",$?a.value=t[S][u.columns[m[N]].name]:w(u.columns[m[N]].value)||(a.value=u.columns[m[N]].value),r.appendChild(a);if(u.customRowButtons&&u.customRowButtons.length){for(var N=u.customRowButtons.length-1;N>=0;N--){var L=u.customRowButtons[N];L&&L.uiButton&&L.click&&L.atTheFront&&o(r).prepend(k(c,L,s))}for(var N=0;N<u.customRowButtons.length;N++){var L=u.customRowButtons[N];L&&L.uiButton&&L.click&&!L.atTheFront&&o(r).append(k(c,L,s))}}}u.useSubPanel&&(v.appendChild(r=document.createElement("td")),r.className="ui-widget-content",r.colSpan=u._visibleCount+(u._hideLastColumn?0:1),e.isFunction(u.subPanelBuilder)&&u.subPanelBuilder(r,s))}if(0<u.maxBodyHeight&&u._calculateWidth&&!b){var F=o("#"+u._wrapperId+">div.scroller")[0];F.scrollHeight>F.offsetHeight&&(b=!0,u._calculateWidth=!1)}if(this._saveSetting(u),b&&u.autoColumnWidth&&u.maxBodyHeight>0&&this._calculateColumnWidth(),e.isNumeric(i)?e.isFunction(u.afterRowInserted)&&u.afterRowInserted(c,p,h):e.isFunction(u.afterRowAppended)&&u.afterRowAppended(c,p,h),g&&e.isFunction(u.maxNumRowsReached)&&u.maxNumRowsReached(),u.maintainScroll&&!e.isNumeric(i)){var q=o(c).height();o(c).scrollParent().scrollTop(x+q-y)}return{addedRows:h,parentIndex:p,rowIndex:i}},_removeRow:function(t,i,n){var s=this._elm,a=o(s).data("appendGrid"),l=s.getElementsByTagName("tbody")[0];if(e.isNumeric(i))for(var r=0;r<a._rowOrder.length;r++)if(a._rowOrder[r]==i){t=r;break}if(e.isNumeric(t))(n||"function"!=typeof a.beforeRowRemove||a.beforeRowRemove(s,t))&&(a._rowOrder.splice(t,1),a.useSubPanel?(l.removeChild(l.childNodes[2*t]),l.removeChild(l.childNodes[2*t])):l.removeChild(l.childNodes[t]),this._saveSetting(a),this._sortSequence(t),e.isFunction(a.afterRowRemoved)&&a.afterRowRemoved(s,t));else{var d=0,c=0;if(a.maintainScroll&&(d=o(s).height(),c=o(s).scrollParent().scrollTop()),(n||!e.isFunction(a.beforeRowRemove)||a.beforeRowRemove(s,a._rowOrder.length-1))&&(i=a._rowOrder.pop(),l.removeChild(l.lastChild),a.useSubPanel&&l.removeChild(l.lastChild),this._saveSetting(a),e.isFunction(a.afterRowRemoved)&&a.afterRowRemoved(s,null)),a.maintainScroll){var u=o(s).height();o(s).scrollParent().scrollTop(c+u-d)}}0==a._rowOrder.length&&this._showEmptyMessage(a)},_loadData:function(t,i){var n,s,a=this._elm,l=o(a).data("appendGrid");if(l){if(n=a.getElementsByTagName("tbody")[0],o(n).empty(),l._rowOrder.length=0,l._uniqueIndex=0,null!=t&&t.length){s=this._insertRow(t.length,null,null);for(var r=0;r<s.addedRows.length;r++){for(var d=0;d<l.columns.length;d++)C(l,d,l._rowOrder[r],t[r][l.columns[d].name]);e.isFunction(l.rowDataLoaded)&&l.rowDataLoaded(a,t[r],r,l._rowOrder[r])}}l._isDataLoaded=!0,i&&(l.initData=null),o(a).data("appendGrid",l),e.isFunction(l.dataLoaded)&&l.dataLoaded(a,t)}},_init:function(){var t=this.options,i=this;e.isArray(t.columns)&&0!=t.columns.length||alert(h.noColumnInfo);var n,s,a,l,r,k,b,y=this._elm;(w(y.tagName)||"TABLE"!=y.tagName)&&alert(h.elemNotTable);var x,_,C=e.extend({},d,c,t);e.extend(C,{_uniqueIndex:0,_rowOrder:[],_isDataLoaded:!1,_visibleCount:0,_finalColSpan:0,_hideLastColumn:!1,_wrapperId:null,_calculateWidth:!0}),e.isPlainObject(t.i18n)?C._i18n=e.extend({},p,t.i18n):C._i18n=e.extend({},p),e.isPlainObject(t.buttonClasses)?C._buttonClasses=e.extend({},m,t.buttonClasses):C._buttonClasses=e.extend({},m),e.isPlainObject(t.sectionClasses)?C._sectionClasses=e.extend({},f,t.sectionClasses):C._sectionClasses=e.extend({},f),e.isPlainObject(t.hideButtons)?C.hideButtons=e.extend({},v,t.hideButtons):C.hideButtons=e.extend({},v),w(C.idPrefix)&&(w(y.id)||""==y.id?C.idPrefix="ag"+(new Date).getTime():C.idPrefix=y.id),e.isPlainObject(C.customGridButtons)||(C.customGridButtons={}),C.useSubPanel&&C.rowDragging&&(C.rowDragging=!1),(s=document.createElement("thead")).className="ui-widget-header",(a=document.createElement("tbody")).className="ui-widget-content",(l=document.createElement("tfoot")).className="ui-widget-header",r=document.createElement("colgroup"),C._wrapperId=C.idPrefix+"-wrapper",n=this._tbWrap=document.createElement("div"),o(n).attr("id",C._wrapperId).addClass("appendGrid").insertAfter(y),o(y).empty().addClass("ui-widget").appendTo(n),C.maxBodyHeight>0?(o("<table></table>").addClass("ui-widget head").append(s).prependTo(n),o(y).addClass("body").wrap(o("<div></div>").addClass("scroller").css("max-height",C.maxBodyHeight)).append(r,a),o("<table></table>").addClass("ui-widget foot").append(l).appendTo(n)):o(y).addClass("head body foot").append(r,s,a,l),s.appendChild(k=document.createElement("tr")),C._sectionClasses.header?k.className="columnHead "+C._sectionClasses.header:k.className="columnHead",C.hideRowNumColumn||(k.appendChild(x=document.createElement("td")),x.className="ui-widget-header first",r.appendChild(document.createElement("col")));for(var $=0,S=0;S<C.columns.length;S++){var N=e.extend({},u,C.columns[S]);if(C.columns[S]=N,"hidden"!=C.columns[S].type)if(C.columns[S].invisible||C._visibleCount++,0==$){var O="ui-widget-header";C.columns[S].invisible&&(O+=" invisible"),C.columns[S].resizable&&(O+=" resizable"),k.appendChild(b=document.createElement("td")),b.id=C.idPrefix+"_"+C.columns[S].name+"_td_head",b.className=O,C.columns[S].displayCss&&o(b).css(C.columns[S].displayCss),C.columns[S].headerSpan>1&&(o(b).attr("colSpan",C.columns[S].headerSpan),$=C.columns[S].headerSpan-1),e.isPlainObject(C.columns[S].displayTooltip)?o(b).tooltip(C.columns[S].displayTooltip):w(C.columns[S].displayTooltip)||o(b).attr("title",C.columns[S].displayTooltip).tooltip(),e.isFunction(C.columns[S].display)?C.columns[S].display(b):w(C.columns[S].display)||o(b).text(C.columns[S].display),r.appendChild(document.createElement("col"))}else $--}if(o.fn.resizable&&o("td.resizable",s).resizable({handles:"e"}),C.hideButtons.insert&&C.hideButtons.remove&&C.hideButtons.moveUp&&C.hideButtons.moveDown&&(!e.isArray(C.customRowButtons)||0==C.customRowButtons.length)&&(C._hideLastColumn=!0),C._finalColSpan=C._visibleCount,C.hideRowNumColumn||C._finalColSpan++,C._hideLastColumn||C._finalColSpan++,C._hideLastColumn||(C.rowButtonsInFront?C.hideRowNumColumn?k.insertBefore(_=document.createElement("td"),k.firstChild):k.insertBefore(_=document.createElement("td"),k.childnodes[1]):k.appendChild(_=document.createElement("td")),_.className="ui-widget-header last",_.id=C.idPrefix+"_last_td_head",r.appendChild(document.createElement("col"))),C.caption&&(s.insertBefore(k=document.createElement("tr"),s.firstChild),C._sectionClasses.caption&&(k.className=C._sectionClasses.caption),k.appendChild(b=document.createElement("td")),b.id=C.idPrefix+"_caption_td",b.className="ui-state-active caption",b.colSpan=C._finalColSpan,e.isPlainObject(C.captionTooltip)?o(b).tooltip(C.captionTooltip):w(C.captionTooltip)||o(b).attr("title",C.captionTooltip).tooltip(),e.isFunction(C.caption)?C.caption(b):o(b).text(C.caption)),l.appendChild(k=document.createElement("tr")),C._sectionClasses.footer&&(k.className=C._sectionClasses.footer),k.appendChild(b=document.createElement("td")),b.id=C.idPrefix+"_footer_td",b.colSpan=C._finalColSpan,o("<input/>").attr({type:"hidden",id:C.idPrefix+"_rowOrder",name:C.idPrefix+"_rowOrder"}).appendTo(b),!C.hideButtons.append||!C.hideButtons.removeLast||e.isArray(C.customFooterButtons)&&0!=C.customFooterButtons.length){if(!C.hideButtons.append){var I=this._createGridButton(C.customGridButtons.append,"ui-icon-plusthick").attr({title:C._i18n.append}).addClass("append").click(function(e){return i._insertRow(1,null,null),e&&e.preventDefault&&e.preventDefault(),!1}).appendTo(b);w(C._buttonClasses.append)||I.addClass(C._buttonClasses.append)}if(!C.hideButtons.removeLast){var I=this._createGridButton(C.customGridButtons.removeLast,"ui-icon-closethick").attr({title:C._i18n.removeLast}).addClass("removeLast").click(function(e){return i._removeRow(null,this.value,!1),e&&e.preventDefault&&e.preventDefault(),!1}).appendTo(b);w(C._buttonClasses.removeLast)||I.addClass(C._buttonClasses.removeLast)}if(C.customFooterButtons&&C.customFooterButtons.length){for(var B=C.customFooterButtons.length-1;B>=0;B--){var E=C.customFooterButtons[B];E&&E.uiButton&&E.click&&E.atTheFront&&o(b).prepend(g(y,E))}for(var B=0;B<C.customFooterButtons.length;B++){var E=C.customFooterButtons[B];E&&E.uiButton&&E.click&&!E.atTheFront&&o(b).append(g(y,E))}}}else k.style.display="none";C.rowDragging&&o(a).sortable({axis:"y",containment:y,handle:".rowDrag",helper:function(e,t){var i=t.children(),n=t.clone();return n.children().each(function(e){o(this).width(i.eq(e).width());var t=o("select",this);if(t.length>0)for(var n=0;n<t.length;n++){var s=i.eq(e).find("select");s.length>n&&(t[n].value=s[n].value)}}),n},update:function(e,t){var n=t.item[0].id.substring(t.item[0].id.lastIndexOf("_")+1),a=t.item[0].rowIndex-o("tr",s).length;i._gridRowDragged(t.originalPosition.top>t.position.top,n,a)}}),o(y).data("appendGrid",C),e.isArray(t.initData)?this._loadData(t.initData,!0):this.appendRow(C.initRows),0==C._rowOrder.length&&this._showEmptyMessage(C,!0),C.maxBodyHeight>0&&(C.autoColumnWidth?this._calculateColumnWidth():o("table.foot",n).width(o(y).width()))},isReady:function(){var e=this._checkGridAndGetSettings(!0);return!!e},isDataLoaded:function(){var e=this._checkGridAndGetSettings();return!!e&&e._isDataLoaded},load:function(e){var t=this._checkGridAndGetSettings();return t&&(null!=e&&e.length>0?this._loadData(e,!1):this._emptyGrid()),this},appendRow:function(e){return this.insertRow(e)},insertRow:function(t,i,n){var s=this._checkGridAndGetSettings();if(s&&(e.isArray(t)&&t.length>0||e.isNumeric(t)&&t>0)){var a=this[0];if(insertResult=this._insertRow(t,i,n),e.isNumeric(i)||e.isNumeric(n)){this._sortSequence(insertResult.rowIndex);var l=s._rowOrder[insertResult.addedRows[0]];o("#"+s.idPrefix+"_Insert_"+l,a).focus()}}return this},removeRow:function(e,t){var i=this._checkGridAndGetSettings();return i&&i._rowOrder.length>0&&this._removeRow(e,t,!0),this},emptyGrid:function(){var e=this._checkGridAndGetSettings();return e&&this._emptyGrid(),target},moveUpRow:function(t,i){var n=this._checkGridAndGetSettings();if(n){var s,a,l,r,d=this[0],c=null,u=d.getElementsByTagName("tbody")[0];e.isNumeric(t)&&t>0&&t<n._rowOrder.length?(c=t,i=n._rowOrder[t]):e.isNumeric(i)&&(c=b(i,n)),null!=c&&c>0&&(s=document.getElementById(n.idPrefix+"_Row_"+i,d),a=document.getElementById(n.idPrefix+"_Row_"+n._rowOrder[c-1],d),n.useSubPanel&&(l=document.getElementById(n.idPrefix+"_SubRow_"+i,d)),u.removeChild(s),n.useSubPanel&&u.removeChild(l),u.insertBefore(s,a),n.useSubPanel&&u.insertBefore(l,a),n._rowOrder[c]=n._rowOrder[c-1],n._rowOrder[c-1]=i,r=o("td.first",a).html(),o("td.first",a).html(o("td.first",s).html()),o("td.first",s).html(r),this._saveSetting(n),o("td.last button.moveUp",s).removeClass("ui-state-hover").blur(),o("td.last button.moveUp",a).focus(),n.afterRowSwapped&&n.afterRowSwapped(d,c,c-1))}return this},moveDownRow:function(t,i){var n=this._checkGridAndGetSettings();if(n){var s,a,l,r,d=this[0],c=null,u=d.getElementsByTagName("tbody")[0];e.isNumeric(t)&&t>=0&&t<n._rowOrder.length-1?(c=t,i=n._rowOrder[t]):e.isNumeric(i)&&(c=b(i,n)),null!=c&&c!=n._rowOrder.length-1&&(s=document.getElementById(n.idPrefix+"_Row_"+i,d),a=document.getElementById(n.idPrefix+"_Row_"+n._rowOrder[c+1],d),n.useSubPanel&&(l=document.getElementById(n.idPrefix+"_SubRow_"+n._rowOrder[c+1],d)),u.removeChild(a),u.insertBefore(a,s),n.useSubPanel&&u.insertBefore(l,s),n._rowOrder[c]=n._rowOrder[c+1],n._rowOrder[c+1]=i,r=o("td.first",a).html(),o("td.first",a).html(o("td.first",s).html()),o("td.first",s).html(r),this._saveSetting(n),o("td.last button.moveDown",s).removeClass("ui-state-hover").blur(),o("td.last button.moveDown",a).focus(),n.afterRowSwapped&&n.afterRowSwapped(d,c,c+1))}return this},showColumn:function(e){var t=this._checkGridAndGetSettings();if(t&&e){for(var i=-1,n=(this[0],0);n<t.columns.length;n++)if(t.columns[n].name==e){i=n;break}if(-1!=i&&t.columns[i].invisible){t._visibleCount++,t._finalColSpan++,o("#"+t.idPrefix+"_caption_td").attr("colSpan",t._finalColSpan),o("#"+t.idPrefix+"_footer_td").attr("colSpan",t._finalColSpan),o("#"+t.idPrefix+"_"+e+"_td_head").removeClass("invisible");for(var n=0;n<t._rowOrder.length;n++){var s=t._rowOrder[n];o("#"+t.idPrefix+"_"+e+"_td_"+s).removeClass("invisible"),t.useSubPanel&&o("#"+t.idPrefix+"_SubRow_"+s).attr("colSpan",t._visibleCount+(t._hideLastColumn?0:1))}t.columns[i].invisible=!1,this._saveSetting(t)}}return this},hideColumn:function(e){var t=this._checkGridAndGetSettings();if(t&&e){for(var i=-1,n=(this[0],0);n<t.columns.length;n++)if(t.columns[n].name==e){i=n;break}if(-1!=i&&!t.columns[i].invisible){t._visibleCount--,t._finalColSpan--,o("#"+t.idPrefix+"_caption_td").attr("colSpan",t._finalColSpan),o("#"+t.idPrefix+"_footer_td").attr("colSpan",t._finalColSpan),o("#"+t.idPrefix+"_"+e+"_td_head").addClass("invisible");for(var n=0;n<t._rowOrder.length;n++){var s=t._rowOrder[n];o("#"+t.idPrefix+"_"+e+"_td_"+s).addClass("invisible"),t.useSubPanel&&o("#"+t.idPrefix+"_SubRow_"+s).attr("colSpan",t._visibleCount+(t._hideLastColumn?0:1))}t.columns[i].invisible=!0,this._saveSetting(t)}}return this},isColumnInvisible:function(e){var t=this._checkGridAndGetSettings();if(t&&e)for(var i=0;i<t.columns.length;i++)if(t.columns[i].name==e)return t.columns[i].invisible;return null},getRowCount:function(){var e=this._checkGridAndGetSettings();return e?e._rowOrder.length:null},getUniqueIndex:function(t){var i=this._checkGridAndGetSettings();return i&&e.isNumeric(t)&&t<i._rowOrder.length?i._rowOrder[t]:null},getRowIndex:function(t){var i=this._checkGridAndGetSettings();if(i&&e.isNumeric(t))for(var n=0;n<i._rowOrder.length;n++)if(i._rowOrder[n]==t)return n;return null},getRowValue:function(t,i,n){var s=this._checkGridAndGetSettings(),o=null;return s&&(e.isNumeric(t)&&t>=0&&t<s._rowOrder.length&&(i=s._rowOrder[t]),w(i)||(o=y(s,i,n))),o},getAllValue:function(t){var i=this._checkGridAndGetSettings(),n=null;if(i){n=t?{}:[];for(var s=0;s<i._rowOrder.length;s++)t?(rowValue=y(i,i._rowOrder[s],s),e.extend(n,rowValue)):(rowValue=y(i,i._rowOrder[s]),n.push(rowValue));t&&(n[i.rowCountName]=i._rowOrder.length)}return n},getCtrlValue:function(e,t){var i=this._checkGridAndGetSettings();if(i&&t>=0&&t<i._rowOrder.length)for(var n=0;n<i.columns.length;n++)if(i.columns[n].name===e)return x(i,n,i._rowOrder[t]);return null},setCtrlValue:function(e,t,i){var n=this._checkGridAndGetSettings();if(n&&t>=0&&t<n._rowOrder.length)for(var s=0;s<n.columns.length;s++)if(n.columns[s].name==e){C(n,s,n._rowOrder[t],i);break}return this},getCellCtrl:function(e,t){var i=this._checkGridAndGetSettings();if(i&&t>=0&&t<i._rowOrder.length)for(var n=i._rowOrder[t],s=0;s<i.columns.length;s++)if(i.columns[s].name===e)return _(i.columns[s].type,i.idPrefix,e,n);return null},getCellCtrlByUniqueIndex:function(e,t){var i=this._checkGridAndGetSettings();if(i)for(var n=0;n<i.columns.length;n++)if(i.columns[n].name===e)return _(i.columns[n].type,i.idPrefix,e,t);return null},getRowOrder:function(){var e=this._checkGridAndGetSettings();return e?e._rowOrder.slice():null},getColumns:function(){var e=this._checkGridAndGetSettings();return e?e.columns.slice():null},isRowEmpty:function(e){var t=this._checkGridAndGetSettings();return t?$(t,e):null},removeEmptyRows:function(){var e=this._checkGridAndGetSettings();if(e){this[0];for(var t=e._rowOrder.length;t>=0;t--)$(e,t)&&this._removeRow(null,e._rowOrder[t],!0);return this}return null}}),d={caption:null,captionTooltip:null,initRows:3,maxRowsAllowed:0,initData:null,columns:null,i18n:null,idPrefix:null,rowDragging:!1,hideButtons:null,hideRowNumColumn:!1,rowButtonsInFront:!1,rowCountName:"_RowCount",buttonClasses:null,sectionClasses:null,customGridButtons:null,customRowButtons:null,customFooterButtons:null,useSubPanel:!1,maintainScroll:!1,maxBodyHeight:0,autoColumnWidth:!0},c={nameFormatter:null,dataLoaded:null,rowDataLoaded:null,afterRowAppended:null,afterRowInserted:null,afterRowSwapped:null,beforeRowRemove:null,afterRowRemoved:null,afterRowDragged:null,subPanelBuilder:null,subPanelGetter:null,maxNumRowsReached:null},u={type:"text",name:null,value:null,display:null,displayCss:null,displayTooltip:null,headerSpan:1,cellCss:null,ctrlAttr:null,ctrlProp:null,ctrlCss:null,ctrlClass:null,ctrlOptions:null,uiOption:null,uiTooltip:null,resizable:!1,invisible:!1,emptyCriteria:null,customBuilder:null,customGetter:null,customSetter:null,onClick:null,onChange:null},h={noColumnInfo:"Cannot initial grid without column information!",elemNotTable:"Cannot initial grid on element other than TABLE!",notInit:"`appendGrid` does not initialized",getValueMultiGrid:"Cannot get values on multiple grid",notSupportMethod:"Method is not supported by `appendGrid`: "},p={append:"Append Row",removeLast:"Remove Last Row",insert:"Insert Row Above",remove:"Remove Current Row",moveUp:"Move Up",moveDown:"Move Down",rowDrag:"Sort Row",rowEmpty:"This Grid Is Empty"},m={append:null,removeLast:null,insert:null,remove:null,moveUp:null,moveDown:null,rowDrag:null},f={caption:null,header:null,body:null,subPanel:null,footer:null},v={append:!1,removeLast:!1,insert:!1,remove:!1,moveUp:!1,moveDown:!1};function g(e,t){var i=o("<button/>").attr({type:"button",tabindex:-1}).button(t.uiButton).click({tbWhole:e},t.click);return t.btnClass&&i.addClass(t.btnClass),t.btnCss&&i.css(t.btnCss),t.btnAttr&&i.attr(t.btnAttr),i}function k(e,t,i){var n=o("<button/>").val(i).attr({type:"button",tabindex:-1}).button(t.uiButton).click({tbWhole:e,uniqueIndex:i},function(e){var i=o(e.data.tbWhole).plugin("lark.tabular").getRowValue(null,e.data.uniqueIndex);t.click(e,e.data.uniqueIndex,i)});return t.btnClass&&n.addClass(t.btnClass),t.btnCss&&n.css(t.btnCss),t.btnAttr&&n.attr(t.btnAttr),n}function b(e,t){for(var i=0;i<t._rowOrder.length;i++)if(t._rowOrder[i]==e)return i;return null}function w(e){return void 0===e||null==e}function y(t,i,n){for(var s={},o=null,a=w(n)?"":"_"+n,l=0;l<t.columns.length;l++)o=t.columns[l].name+a,s[o]=x(t,l,i);if(t.useSubPanel&&e.isFunction(t.subPanelGetter)){var r=t.subPanelGetter(i);if(e.isPlainObject(r))if(""==a)e.extend(s,r);else{var d={};for(var c in r)d[c+a]=r[c];e.extend(s,d)}}return s}function x(t,i,n){var s=t.columns[i].type,a=t.columns[i].name;if("custom"==s)return e.isFunction(t.columns[i].customGetter)?t.columns[i].customGetter(t.idPrefix,a,n):null;var l=_(s,t.idPrefix,a,n);return null==l?null:"checkbox"==s?l.checked?1:0:o(l).val()}function _(e,t,i,n){return document.getElementById(t+"_"+i+"_"+n)}function C(t,i,n,s){var a=t.columns[i].type,l=t.columns[i].name;if("custom"==a)e.isFunction(t.columns[i].customSetter)&&t.columns[i].customSetter(t.idPrefix,l,n,s);else{var r=_(a,t.idPrefix,l,n);"checkbox"==a?r.checked=null!=s&&0!=s:"ui-selectmenu"==a?(r.value=null==s?"":s,o(r).selectmenu("refresh")):o(r).val(null==s?"":s)}}function $(t,i){for(var n=0;n<t.columns.length;n++){var s=t._rowOrder[i],o=x(t,n,s);if(e.isFunction(t.columns[n].emptyCriteria)){if(!t.columns[n].emptyCriteria(o))return!1}else{var a=null;if(w(t.columns[n].emptyCriteria))if("checkbox"==t.columns[n].type)a=0;else if("select"==t.columns[n].type||"ui-selectmenu"==t.columns[n].type){var l=_(t.columns[n].type,t.idPrefix,t.columns[n].name,s).options;a=l.length>0?l[0].value:""}else a="";else a=t.columns[n].emptyCriteria;if(o!=a)return!1}}return!0}return r}),t("skylark-widgets-swt/TabStrip",["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","./swt","./Widget","skylark-bootstrap3/tab","skylark-bootstrap3/dropdown"],function(e,t,i,n,s,o,a,l){var r=l.inherit({klassName:"TabStrip",pluginName:"lark.tabstrip",options:{selectors:{header:".nav-tabs",tab:'[data-toggle="tab"]',content:".tab-content",tabpane:".tab-pane"}},_init:function(){this.$header=this._velm.$(this.options.selectors.header),this.$tabs=this.$header.find(this.options.selectors.tab),this.$content=this._velm.$(this.options.selectors.content),this.$tabpanes=this.$content.find(this.options.selectors.tabpane),this.$header.find('[data-toggle="dropdown"]').dropdown();var e=this;this.$tabs.each(function(t,i){o(i).tab({target:e.$tabpanes[t]})})},add:function(){},remove:function(){}});return a.TabStrip=r}),t("skylark-widgets-swt/Toolbar",["skylark-langx/langx","skylark-utils-dom/query","skylark-widgets-base/Widget"],function(e,t,i){var n=i.inherit({pluginName:"lark.toolbar",options:{toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0,template:'<div class="lark-toolbar"><ul></ul></div>',separator:{template:'<li><span class="separator"></span></li>'}},_init:function(){var e,i;this.opts=this.options,this.wrapper=t(this._elm),this.list=this.wrapper.find("ul"),this.list.on("click",function(e){return!1}),this.wrapper.on("mousedown",(i=this,function(e){return i.list.find(".menu-on").removeClass(".menu-on")})),t(document).on("mousedown.toolbar",function(e){return function(t){return e.list.find(".menu-on").removeClass("menu-on")}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.css("top",this.opts.toolbarFloatOffset),e=0,function(t){return function(){return t.wrapper.css("position","static"),t.wrapper.width("auto"),t.editor.editable.util.reflow(t.wrapper),t.wrapper.width(t.wrapper.outerWidth()),t.wrapper.css("left",t.editor.editable.util.os.mobile?t.wrapper.position().left:t.wrapper.offset().left),t.wrapper.css("position",""),e=t.wrapper.outerHeight(),t.editor.placeholderEl.css("top",e),!0}}(this))},addToolItem:function(e){return t(e._elm).appendTo(this.list),this},addSeparator:function(){return t(this.options.separator.template).appendTo(this.list),this}});return n}),t("skylark-widgets-swt/Tree",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-query","skylark-utils-dom/plugins","./swt","./Widget"],function(e,t,i,n,s,o){"use strict";var a=s.Tree=o.inherit({klassName:"Tree",pluginName:"lark.tree",widgetClass:"lark-tree",options:{multiSelect:!1,multiTier:{nest:!0,levels:2,selectors:{children:".list-group"},classes:{expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus"}},selectors:{item:".list-group-item",children:".list-group"},injectStyle:!0,emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",colors:{normal:void 0,normalBack:void 0,border:void 0,onhover:"#F5F5F5",selected:"#FFFFFF",selectedBack:"#428bca",searchResult:"#D9534F",searchResultBack:void 0},enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,search:{ignoreCase:!0,exactMatch:!1,revealResults:!0},noding:{silent:!1,ignoreChildren:!1},templates:{list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},onNodeChecked:void 0,onNodeCollapsed:void 0,onNodeDisabled:void 0,onNodeEnabled:void 0,onNodeExpanded:void 0,onNodeSelected:void 0,onNodeUnchecked:void 0,onNodeUnselected:void 0,onSearchComplete:void 0,onSearchCleared:void 0},css:".Tree .list-group-item{cursor:pointer}.Tree span.indent{margin-left:10px;margin-right:10px}.Tree span.icon{width:12px;margin-right:5px}.Tree .node-disabled{color:silver;cursor:not-allowed}",_init:function(){var e=this.options,n=this._elm;this.$element=i(n),this.elementId=n.id,this.styleId=this.elementId+"-style",this.tree=[],this.nodes=[],e.data&&("string"==typeof e.data&&(e.data=JSON.parse(e.data)),this.tree=t.extend(!0,[],e.data)),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},remove:function(){this.destroy(),datax.removeData(this,this.pluginName),i("#"+this.styleId).remove()},destroy:function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},unsubscribeEvents:function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},subscribeEvents:function(){this.unsubscribeEvents(),this.$element.on("click",t.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},setInitialStates:function(e,i){if(e.nodes){i+=1;var n=e,s=this;t.each(e.nodes,function(e,t){t.nodeId=s.nodes.length,t.parentId=n.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&i<s.options.multiTier.levels&&t.nodes&&t.nodes.length>0?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),s.nodes.push(t),t.nodes&&s.setInitialStates(t,i)})}},clickHandler:function(e){this.options.enableLinks||e.preventDefault();var t=i(e.target),n=this.findNode(t);if(n&&!n.state.disabled){var s=t.attr("class")?t.attr("class").split(" "):[];-1!==s.indexOf("expand-icon")?(this.toggleExpandedState(n,this.options.noding),this.render()):-1!==s.indexOf("check-icon")?(this.toggleCheckedState(n,this.options.noding),this.render()):(n.selectable?this.toggleSelectedState(n,this.options.noding):this.toggleExpandedState(n,this.options.noding),this.render())}},findNode:function(e){var t=e.closest(this.options.selectors.item).attr("data-nodeid"),i=this.nodes[t];return i||console.log("Error: node does not exist"),i},toggleExpandedState:function(e,t){e&&this.setExpandedState(e,!e.state.expanded,t)},setExpandedState:function(e,i,n){i!==e.state.expanded&&(i&&e.nodes?(e.state.expanded=!0,n.silent||this.$element.trigger("nodeExpanded",t.extend(!0,{},e))):i||(e.state.expanded=!1,n.silent||this.$element.trigger("nodeCollapsed",t.extend(!0,{},e)),e.nodes&&!n.ignoreChildren&&t.each(e.nodes,t.proxy(function(e,t){this.setExpandedState(t,!1,n)},this))))},toggleSelectedState:function(e,t){e&&this.setSelectedState(e,!e.state.selected,t)},setSelectedState:function(e,i,n){i!==e.state.selected&&(i?(this.options.multiSelect||t.each(this.findNodes("true","g","state.selected"),t.proxy(function(e,t){this.setSelectedState(t,!1,n)},this)),e.state.selected=!0,n.silent||this.$element.trigger("nodeSelected",t.extend(!0,{},e))):(e.state.selected=!1,n.silent||this.$element.trigger("nodeUnselected",t.extend(!0,{},e))))},toggleCheckedState:function(e,t){e&&this.setCheckedState(e,!e.state.checked,t)},setCheckedState:function(e,i,n){i!==e.state.checked&&(i?(e.state.checked=!0,n.silent||this.$element.trigger("nodeChecked",t.extend(!0,{},e))):(e.state.checked=!1,n.silent||this.$element.trigger("nodeUnchecked",t.extend(!0,{},e))))},setDisabledState:function(e,i,n){i!==e.state.disabled&&(i?(e.state.disabled=!0,this.setExpandedState(e,!1,n),this.setSelectedState(e,!1,n),this.setCheckedState(e,!1,n),n.silent||this.$element.trigger("nodeDisabled",t.extend(!0,{},e))):(e.state.disabled=!1,n.silent||this.$element.trigger("nodeEnabled",t.extend(!0,{},e))))},render:function(){this.initialized||(this.$element.addClass(this.widgetClass),this.$wrapper=i(this.options.templates.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},buildTree:function(e,n){if(e){n+=1;var s=this;t.each(e,function(e,o){for(var a=i(s.options.templates.item).addClass("node-"+s.elementId).addClass(o.state.checked?"node-checked":"").addClass(o.state.disabled?"node-disabled":"").addClass(o.state.selected?"node-selected":"").addClass(o.searchResult?"search-result":"").attr("data-nodeid",o.nodeId).attr("style",s.buildStyleOverride(o)),l=0;l<n-1;l++)a.append(s.options.templates.indent);var r=[];if(o.nodes?(r.push("expand-icon"),o.state.expanded?r.push(s.options.multiTier.classes.collapseIcon):r.push(s.options.multiTier.classes.expandIcon)):r.push(s.options.emptyIcon),a.append(i(s.options.templates.icon).addClass(r.join(" "))),s.options.showIcon){var r=["node-icon"];r.push(o.icon||s.options.nodeIcon),o.state.selected&&(r.pop(),r.push(o.selectedIcon||s.options.selectedIcon||o.icon||s.options.nodeIcon)),a.append(i(s.options.templates.icon).addClass(r.join(" ")))}if(s.options.showCheckbox){var r=["check-icon"];o.state.checked?r.push(s.options.checkedIcon):r.push(s.options.uncheckedIcon),a.append(i(s.options.templates.icon).addClass(r.join(" ")))}if(s.options.enableLinks?a.append(i(s.options.templates.link).attr("href",o.href).append(o.text)):a.append(o.text),s.options.showTags&&o.tags&&t.each(o.tags,function(e,t){a.append(i(s.options.templates.badge).append(t))}),s.$wrapper.append(a),o.nodes&&o.state.expanded&&!o.state.disabled)return s.buildTree(o.nodes,n)})}},buildStyleOverride:function(e){if(e.state.disabled)return"";var t=e.color,i=e.backColor;return this.options.highlightSelected&&e.state.selected&&(this.options.colors.selected&&(t=this.options.colors.selected),this.options.colors.selectedBack&&(i=this.options.colors.selectedBack)),this.options.highlightSearchResults&&e.searchResult&&!e.state.disabled&&(this.options.colors.searchResult&&(t=this.options.colors.searchResult),this.options.colors.searchResultBack&&(i=this.options.colors.searchResultBack)),"color:"+t+";background-color:"+i+";"},injectStyle:function(){this.options.injectStyle&&!document.getElementById(this.styleId)&&i('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},buildStyle:function(){var e=".node-"+this.elementId+"{";return this.options.colors.normal&&(e+="color:"+this.options.colors.normal+";"),this.options.colors.normalBack&&(e+="background-color:"+this.options.colors.normalBack+";"),this.options.showBorder?this.options.colors.border&&(e+="border:1px solid "+this.options.colors.border+";"):e+="border:none;",e+="}",this.options.colors.onhover&&(e+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.colors.onhover+";}"),this.css+e},getNode:function(e){return this.nodes[e]},getParent:function(e){var t=this.identifyNode(e);return this.nodes[t.parentId]},getSiblings:function(e){var t=this.identifyNode(e),i=this.getParent(t),n=i?i.nodes:this.tree;return n.filter(function(e){return e.nodeId!==t.nodeId})},getSelected:function(){return this.findNodes("true","g","state.selected")},getUnselected:function(){return this.findNodes("false","g","state.selected")},getExpanded:function(){return this.findNodes("true","g","state.expanded")},getCollapsed:function(){return this.findNodes("false","g","state.expanded")},getChecked:function(){return this.findNodes("true","g","state.checked")},getUnchecked:function(){return this.findNodes("false","g","state.checked")},getDisabled:function(){return this.findNodes("true","g","state.disabled")},getEnabled:function(){return this.findNodes("false","g","state.disabled")},selectNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setSelectedState(e,!0,t)},this)),this.render()},unselectNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setSelectedState(e,!1,t)},this)),this.render()},toggleNodeSelected:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.toggleSelectedState(e,t)},this)),this.render()},collapseAll:function(e){var i=this.findNodes("true","g","state.expanded");this.forEachIdentifier(i,e,t.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},collapseNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},expandAll:function(e){if((e=t.extend({},this.options.noding,e))&&e.levels)this.expandLevels(this.tree,e.levels,e);else{var i=this.findNodes("false","g","state.expanded");this.forEachIdentifier(i,e,t.proxy(function(e,t){this.setExpandedState(e,!0,t)},this))}this.render()},expandNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setExpandedState(e,!0,t),e.nodes&&t&&t.levels&&this.expandLevels(e.nodes,t.levels-1,t)},this)),this.render()},expandLevels:function(e,i,n){n=t.extend({},this.options.noding,n),t.each(e,t.proxy(function(e,t){this.setExpandedState(t,i>0,n),t.nodes&&this.expandLevels(t.nodes,i-1,n)},this))},revealNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){for(var i=this.getParent(e);i;)this.setExpandedState(i,!0,t),i=this.getParent(i)},this)),this.render()},toggleNodeExpanded:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.toggleExpandedState(e,t)},this)),this.render()},checkAll:function(e){var i=this.findNodes("false","g","state.checked");this.forEachIdentifier(i,e,t.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},checkNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},uncheckAll:function(e){var i=this.findNodes("true","g","state.checked");this.forEachIdentifier(i,e,t.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},uncheckNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},toggleNodeChecked:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.toggleCheckedState(e,t)},this)),this.render()},disableAll:function(e){var i=this.findNodes("false","g","state.disabled");this.forEachIdentifier(i,e,t.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},disableNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},enableAll:function(e){var i=this.findNodes("true","g","state.disabled");this.forEachIdentifier(i,e,t.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},enableNode:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},toggleNodeDisabled:function(e,i){this.forEachIdentifier(e,i,t.proxy(function(e,t){this.setDisabledState(e,!e.state.disabled,t)},this)),this.render()},forEachIdentifier:function(e,i,n){i=t.extend({},this.options.noding,i),e instanceof Array||(e=[e]),t.each(e,t.proxy(function(e,t){n(this.identifyNode(t),i)},this))},identifyNode:function(e){return"number"==typeof e?this.nodes[e]:e},search:function(e,i){i=t.extend({},this.options.search,i),this.clearSearch({render:!1});var n=[];if(e&&e.length>0){i.exactMatch&&(e="^"+e+"$");var s="g";i.ignoreCase&&(s+="i"),n=this.findNodes(e,s),t.each(n,function(e,t){t.searchResult=!0})}return i.revealResults?this.revealNode(n):this.render(),this.$element.trigger("searchComplete",t.extend(!0,{},n)),n},clearSearch:function(e){e=t.extend({},{render:!0},e);var i=t.each(this.findNodes("true","g","searchResult"),function(e,t){t.searchResult=!1});e.render&&this.render(),this.$element.trigger("searchCleared",t.extend(!0,{},i))},findNodes:function(e,i,n){i=i||"g",n=n||"text";var s=this;return t.grep(this.nodes,function(t){var o=s.getNodeValue(t,n);if("string"==typeof o)return o.match(new RegExp(e,i))})},getNodeValue:function(e,t){var i=t.indexOf(".");if(i>0){var n=e[t.substring(0,i)],s=t.substring(i+1,t.length);return this.getNodeValue(n,s)}return e.hasOwnProperty(t)?e[t].toString():void 0}});return a}),t("skylark-widgets-swt/main",["./swt","./Widget","./Accordion","./Button","./Carousel","./CheckBox","./ComboBox","./TextBox","./ListGroup","./Menu","./Pagination","./Progress","./Radio","./SearchBox","./SelectList","./Tabular","./TabStrip","./TextBox","./Toolbar","./Tree"],function(e){return e}),t("skylark-widgets-swt",["skylark-widgets-swt/main"],function(e){return e})}(n),!o){var r=s("skylark-langx/skylark");a?module.exports=r:i.skylarkjs=r}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-widgets-swt.js.map
